<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Japan Azure Identity Support Blog</title>
  
  <subtitle>日本マイクロソフトの Azure Active Directory と AD FS に関するサポート情報のブログです。</subtitle>
  <link href="https://jpazureid.github.io/blog/atom.xml" rel="self"/>
  
  <link href="https://jpazureid.github.io/blog/"/>
  <updated>2022-11-30T11:33:00.674Z</updated>
  <id>https://jpazureid.github.io/blog/</id>
  
  <author>
    <name>Azure Identity Support Japan</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>アプリの条件付きアクセス フィルターがパブリック プレビューになりました</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/ca-filter-for-apps/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/ca-filter-for-apps/</id>
    <published>2022-11-19T15:00:00.000Z</published>
    <updated>2022-11-30T11:33:00.674Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、 Azure ID チームの小出です。</p><p>本記事は、 2022 年 10 月 26 日に公開された <a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/public-preview-conditional-access-filters-for-apps/ba-p/2365680">Public Preview: Conditional Access filters for apps</a> の意訳をもとに、新しくパブリック プレビューになりましたアプリ用の条件付きアクセス フィルターの機能と、実際の操作方法について紹介します。</p><h2 id="新しい機能の概要"><a href="#新しい機能の概要" class="headerlink" title="新しい機能の概要"></a>新しい機能の概要</h2><p>これまで条件付きアクセス ポリシーを構成するときには、下記のように「どのアプリケーションに対してポリシーを適用するか」 を個別に指定する必要がありました。たとえば Office 365 にアクセスした時にポリシーを適用させたい場合、下記のように設定しますが、適用させたいアプリケーションがたくさんある場合、この画面でアプリを 1 つずつ選択してリストアップしていたと思います。</p><p><img src="/blog/azure-active-directory/ca-filter-for-apps/ca-filter-for-apps1.png"></p><p>新しいパブリック プレビューの機能を使うと、上記画面で 1 つずつアプリケーションを選択しなくても、条件に基づいたアプリをポリシーの対象に含めてくれるようになります。</p><p>この機能では、[カスタム セキュリティ属性] を使用してアプリケーションにタグ付けを行います。このタグをもとに、特定のカスタム セキュリティ属性の値が含まれているアプリを、自動的にポリシーへ追加します。対象となるアプリケーション数に制限はありません。</p><p><img src="/blog/azure-active-directory/ca-filter-for-apps/ca-filter-for-apps2.png"></p><h2 id="どのような利点があるか"><a href="#どのような利点があるか" class="headerlink" title="どのような利点があるか"></a>どのような利点があるか</h2><p>この機能により以下のようなメリットを得ることができます。</p><h3 id="ポリシーの数を減らすことができる"><a href="#ポリシーの数を減らすことができる" class="headerlink" title="ポリシーの数を減らすことができる"></a>ポリシーの数を減らすことができる</h3><p>これまで新しいアプリを作成するごとにポリシーを作成していたなど、類似構成のポリシーが多くある場合には、この機能を使用することでポリシーの数を減らすことが可能です。</p><h3 id="新しいアプリを追加した時の負担軽減と作業ミスの可能性の低減"><a href="#新しいアプリを追加した時の負担軽減と作業ミスの可能性の低減" class="headerlink" title="新しいアプリを追加した時の負担軽減と作業ミスの可能性の低減"></a>新しいアプリを追加した時の負担軽減と作業ミスの可能性の低減</h3><p>新しいアプリをポリシーに追加したい場合、以前はポリシーを編集し、対象となるアプリケーションを追加する必要がありました。このアプリ フィルター機能を使用すれば、新しいアプリを追加しても、それにタグ付けすることで自動的にポリシーの対象となり、ポリシーを編集する必要がなくなります。</p><p>また、新しいアプリをポリシーの対象に追加する際に、たとえばポリシー編集時に誤った項目を設定したり、ポリシー自体を削除してしまったりすることもあり得ると思います。しかしながらこのアプリ フィルターの機能を用いると、アプリ自体のカスタム セキュリティ属性をもとに対象アプリが自動的にポリシーの対象として構成されるため、ポリシーを一度構成すれば、新しいアプリケーションが追加されてもポリシーを編集する必要はなく、操作ミスをなくすことができます。</p><h3 id="権限の委任範囲を明確に切り離すことができる"><a href="#権限の委任範囲を明確に切り離すことができる" class="headerlink" title="権限の委任範囲を明確に切り離すことができる"></a>権限の委任範囲を明確に切り離すことができる</h3><p>カスタム セキュリティ属性は、属性管理者や属性割り当て管理者といった、一部のロールを持つユーザーしか閲覧および編集することができず、グローバル管理者でも操作を行うことはできません。このため、一部のユーザーにのみカスタム セキュリティ属性の管理を委任することで、属性の管理者とポリシーの管理者を分けることができるようになります。役割を分けることで、属性の変更操作を行ったユーザーの特定や監査も容易になります。</p><p>また、この属性の変更権限を持つユーザーには条件付きアクセス ポリシーを編集する権限はないため、条件付きアクセスの管理者と、カスタム セキュリティ属性の管理者で職務の分離を確実に行うことが可能です。 </p><h2 id="構成方法"><a href="#構成方法" class="headerlink" title="構成方法"></a>構成方法</h2><p>条件付きアクセス ポリシーでアプリ フィルターを選択する前に、事前にカスタム セキュリティ属性を構成し、アプリケーションに値を割り当てる必要があります。そのため、詳細な手順を下記にてご紹介します。</p><h3 id="事前準備"><a href="#事前準備" class="headerlink" title="事前準備"></a>事前準備</h3><p>カスタム セキュリティ属性を管理するためには、属性定義管理者および属性割り当て管理者が必要です。まずは操作ユーザーにこれらのロールを付与します。グローバル管理者や特権ロール管理者であれば、自身に対してロールを追加することも可能です。</p><h3 id="カスタム-セキュリティ属性の作成"><a href="#カスタム-セキュリティ属性の作成" class="headerlink" title="カスタム セキュリティ属性の作成"></a>カスタム セキュリティ属性の作成</h3><ol><li><p>[Azure Active Directory] - [Custom Security Attributes] を開き、 [属性セットを追加する] をクリックします。</p></li><li><p>“属性セット名” を指定し、任意で説明や属性の最大数を決定します。属性セットは、属性をまとめた「箱」のようなものです。</p><p> <img src="/blog/azure-active-directory/ca-filter-for-apps/ca-filter-for-apps3.png"></p></li><li><p>作成した属性セットを選択します。</p></li><li><p>下記の画面が表示されるので [属性の追加] を選択します。</p><p> <img src="/blog/azure-active-directory/ca-filter-for-apps/ca-filter-for-apps4.png"></p></li><li><p>属性は、実際にアプリ フィルターで条件付けに使う属性名です。データ型や複数の値が入れられるか、値はどのようにするか（定義済みのものから選ぶ or 自由に指定）を決めることができます。</p><p> <img src="/blog/azure-active-directory/ca-filter-for-apps/ca-filter-for-apps5.png"></p></li></ol><div class="alert is-warning"><p class="alert-title">警告</p><p>条件付きアクセス ポリシーのアプリ フィルターでは、文字列型のデータのみが使用できるため、データ型は String を選択ください。</p></div><ol start="6"><li><p>下記のように属性が作成されることを確認します。</p><p> <img src="/blog/azure-active-directory/ca-filter-for-apps/ca-filter-for-apps6.png"></p></li></ol><h3 id="カスタム-セキュリティ属性の割り当て"><a href="#カスタム-セキュリティ属性の割り当て" class="headerlink" title="カスタム セキュリティ属性の割り当て"></a>カスタム セキュリティ属性の割り当て</h3><ol><li><p>作成したカスタム セキュリティ属性を、実際にアプリケーションに割り当てます。 [エンタープライズ アプリケーション] - [カスタム セキュリティ属性] - [割り当ての追加] を選択します。</p><p> <img src="/blog/azure-active-directory/ca-filter-for-apps/ca-filter-for-apps7.png"></p></li><li><p>属性セット、属性名、値をそれぞれ選択、もしくは入力して保存します。</p><p> <img src="/blog/azure-active-directory/ca-filter-for-apps/ca-filter-for-apps8.png"></p></li></ol><h3 id="条件付きアクセス-ポリシーの構成"><a href="#条件付きアクセス-ポリシーの構成" class="headerlink" title="条件付きアクセス ポリシーの構成"></a>条件付きアクセス ポリシーの構成</h3><ol><li><p>Azure ポータルから [条件付きアクセス] を選択し、ポリシーの作成画面に遷移します。</p></li><li><p>[クラウド アプリまたは操作] をクリックし、 [アプリを選択] - [フィルターの編集（プレビュー）] を選択します。</p></li><li><p>下記のような画面が表示されるので、 [構成] を “はい” に設定し、このポリシーに適用させたいアプリケーションの条件を指定して保存します。</p><p> たとえばここでは、 CAPolicyforAppsTag というカスタム セキュリティ属性の値が “Department1” となっているアプリケーションを対象にしています。</p><p> <img src="/blog/azure-active-directory/ca-filter-for-apps/ca-filter-for-apps9.png"></p></li><li><p>ポリシーの名前や条件など、ほかに必要な項目を入力してポリシーを作成すれば完了です。</p></li></ol><h2 id="フィードバックをお寄せください"><a href="#フィードバックをお寄せください" class="headerlink" title="フィードバックをお寄せください"></a>フィードバックをお寄せください</h2><p>今回は、条件付きアクセス ポリシーにて新しく利用できるようになったアプリ フィルターについて紹介しました。新しいプレビュー機能を利用して気づいたこと、フィードバックがある場合には、下記画面の [フィードバックがある場合] からご意見、ご要望をお寄せください。</p><p>  <img src="/blog/azure-active-directory/ca-filter-for-apps/ca-filter-for-apps10.png"></p><h2 id="参考となる公開情報"><a href="#参考となる公開情報" class="headerlink" title="参考となる公開情報"></a>参考となる公開情報</h2><ul><li><a href="https://learn.microsoft.com/ja-jp/azure/active-directory/conditional-access/concept-filter-for-applications">条件付きアクセス ポリシーでのアプリケーションのフィルター (プレビュー)</a></li><li><a href="https://learn.microsoft.com/ja-jp/azure/active-directory/fundamentals/custom-security-attributes-overview">Azure AD のカスタム セキュリティ属性とは (プレビュー)</a></li><li><a href="https://learn.microsoft.com/ja-jp/azure/active-directory/conditional-access/concept-condition-filters-for-devices">条件付きアクセス ポリシーの条件としてのデバイスのフィルター</a></li><li><a href="https://learn.microsoft.com/ja-jp/azure/active-directory/conditional-access/workload-identity">ワークロード ID 用の Azure Active Directory の条件付きアクセス (プレビュー)</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、 Azure ID チームの小出です。&lt;/p&gt;
&lt;p&gt;本記事は、 2022 年 10 月 26 日に公開された &lt;a href=&quot;https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-bl</summary>
      
    
    
    
    
    <category term="Azure AD" scheme="https://jpazureid.github.io/blog/tags/Azure-AD/"/>
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
  </entry>
  
  <entry>
    <title>自動割り当てポリシーを活用してアクセス パッケージを動的に割り当てる</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/dynamic-automated-access-with-entitlment-management/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/dynamic-automated-access-with-entitlment-management/</id>
    <published>2022-11-18T15:00:00.000Z</published>
    <updated>2022-11-30T11:33:00.758Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは。 Azure ID チームの小出です。</p><p>この記事では、2022 年 8 月 29 日に公開された <a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/dynamic-automated-access-with-azure-ad-entitlement-management/ba-p/2466937">Dynamic automated access with Azure AD entitlement management</a> の記事の抄訳をもとに、アクセス パッケージの活用方法やポイントなどを紹介します。</p><hr><p>最近弊社では、Azure Active Directory (Azure AD) Identity Governance の機能を継続的に強化しています。たとえば最新機能では、多段階のアクセス レビューや、Azure Logic App と連携したエンタイトルメント管理の機能などがリリースされました。</p><p>今回ご紹介するのは、エンタイトルメント管理において新しくプレビューになりました「自動割り当てポリシー」の機能です。</p><p>基本的なアクセス パッケージの機能については、こちらのブログでご案内しておりますので、事前に基礎的な機能および使い方について確認されたい方は <a href="https://jpazureid.github.io/blog/azure-active-directory/access-management-with-access-package/">こちら</a> をご覧ください。</p><h2 id="何ができるのか？"><a href="#何ができるのか？" class="headerlink" title="何ができるのか？"></a>何ができるのか？</h2><p>アクセス パッケージ ポリシーに事前に設定した条件に応じて、対象となるユーザーにパッケージが自動的に割り当てられるようになります。これにより、管理者の手作業なく、アプリケーションへのアクセス許可などを、条件に応じて自動的に適用したり剥奪したりすることが可能となります。動的グループのアクセス パッケージ版のように理解いただくとわかりやすいです。</p><p><a href="https://learn.microsoft.com/ja-jp/azure/active-directory/governance/entitlement-management-access-package-auto-assignment-policy">こちらの公開情報</a> も併せてご活用ください。</p><p>アクセス パッケージは、グループやチーム、アプリケーション、SharePoint サイトなどを一括してユーザーに割り当てることができる機能です。この機能を使用しない場合、管理者が手動で各リソースにユーザーのアクセス許可を付与する必要があり、管理者には大きな負担となっていました。アクセス パッケージを活用することで負担を大きく下げることが期待できる一方、「パッケージを割り当てたいユーザーを追加する」もしくは「ユーザーがパッケージを要求する」という手作業が必要だったため、管理者もしくはユーザー側で操作する必要がありました。</p><p>これは具体的には、例えば管理者がアクセス パッケージを割り当てる場合、まず以下の画面で [新しい割り当て] をクリックしていました。</p><p><img src="/blog/azure-active-directory/dynamic-automated-access-with-entitlment-management/dynamic-automated-access-with-entitlment-management1.png"></p><p>次に、どのユーザーにどのポリシーを使用してパッケージを割り当てるかなどを個別に指定する必要がありました。</p><p><img src="/blog/azure-active-directory/dynamic-automated-access-with-entitlment-management/dynamic-automated-access-with-entitlment-management2.png"></p><p>管理者が手動で割り当てたり、ユーザーが自身で要求したりできるポリシーももちろん活用できますが、新機能を使うと「表示名が test から始まるユーザー」や「JobTitle 属性に “一般社員” と登録されているユーザー」といった条件をもとに、自動的にアクセス パッケージを割り当てることができるようになります。また、 1 つのアクセス パッケージには複数のポリシーを追加することができるので、自動で追加されないユーザーに手動でパッケージを割り当てることも可能です。</p><h2 id="設定の仕方"><a href="#設定の仕方" class="headerlink" title="設定の仕方"></a>設定の仕方</h2><ol><li><p>Azure ポータルにサインインします。</p></li><li><p>[Identity Governance] - [アクセス パッケージ] をクリックし、ポリシーを作成したいアクセス パッケージを選択します。</p></li><li><p>[ポリシー] タブを開き、下記のように [自動割り当てポリシーの追加] を選択します。</p><p> <img src="/blog/azure-active-directory/dynamic-automated-access-with-entitlment-management/dynamic-automated-access-with-entitlment-management3.png"></p></li><li><p>[自動割り当てポリシーの作成] 画面が開き、[ルールの構文] ボックスが表示されるので、右端の “編集” をクリックします。</p></li><li><p>下記のような設定画面が開きます。</p><p> <img src="/blog/azure-active-directory/dynamic-automated-access-with-entitlment-management/dynamic-automated-access-with-entitlment-management4.png"></p></li><li><p>ルール ビルダーを活用するか、直接構文を入力して条件を記載します。</p></li><li><p>設定を保存し、自動割り当てポリシーを作成します。</p></li></ol><p>動的グループを活用されているお客様のなかには、5 の画面には見覚えがあると思います。アクセス パッケージの自動割り当てポリシーでも同じように設定いただければ問題ございませんので、初めて利用される方でも簡単に設定できます。</p><h2 id="活用ポイント"><a href="#活用ポイント" class="headerlink" title="活用ポイント"></a>活用ポイント</h2><p>動的グループは、ライセンスの割り当てやアクセス許可の自動設定に加え、さらにパッケージの静的な割り当てにも活用できますが、自動割り当てポリシーによるエンタイトルメント管理では、さらに以下のようなことも実現可能できます。</p><h3 id="複数のリソースにまたがるアクセスを一括で管理する"><a href="#複数のリソースにまたがるアクセスを一括で管理する" class="headerlink" title="複数のリソースにまたがるアクセスを一括で管理する"></a>複数のリソースにまたがるアクセスを一括で管理する</h3><p>アプリケーション、SharePoint Online サイト、既存の Azure AD グループと Teams、オンプレミス AD にプロビジョニングされたグループなど、アクセス パッケージには複数のリソースを追加することができます。</p><p>上記で設定したポリシーを併せて確認することで、どんなユーザーにどのようなリソースへのロールが割り当てられているのかをすぐに確認できます。動的グループでも割り当てを行うことはできますが、どのパッケージに何の権限が割り当たっているのかを一目で確認することができる点は、アクセス パッケージの利点です。</p><p><img src="/blog/azure-active-directory/dynamic-automated-access-with-entitlment-management/dynamic-automated-access-with-entitlment-management5.png"></p><h3 id="複雑な条件でパッケージを割り当てたい場合"><a href="#複雑な条件でパッケージを割り当てたい場合" class="headerlink" title="複雑な条件でパッケージを割り当てたい場合"></a>複雑な条件でパッケージを割り当てたい場合</h3><p>静的なポリシーでは、内部向けの場合は特定のユーザーやグループ、ゲストあり or なしのメンバー ユーザーなど、パッケージを要求できるユーザーを大まかにしか指定できませんでした。新機能では、動的グループのような条件でポリシーを作成できるため、より複雑な構成 (例外となるユーザーを指定するなど) を行うこともできるようになりました。</p><h3 id="カスタム拡張機能との連携"><a href="#カスタム拡張機能との連携" class="headerlink" title="カスタム拡張機能との連携"></a>カスタム拡張機能との連携</h3><p>エンタイトルメント管理のカスタム拡張機能により、Microsoft や 3rd パーティー アプリケーションでのタスクをさらに自動化できます。ユーザーにパッケージが割り当てられたり、失ったりしたときに、事前に設定したワークフローを実行するよう構成できます。</p><h2 id="よくある質問"><a href="#よくある質問" class="headerlink" title="よくある質問"></a>よくある質問</h2><p>Q. 動的割り当てポリシーを作成したら、自動的に動的グループが作成されました。どうしたらいいですか？</p><p>A. 動的割り当てポリシーでは、メンバーを評価するために自動的に動的グループが作成されます。AutoAssignment_ から始まる名前であれば、動的割り当てポリシーで使用されているとご判断ください。<a href="https://learn.microsoft.com/ja-jp/azure/active-directory/governance/entitlement-management-access-package-auto-assignment-policy">公開情報</a> にも記載がありますが、このグループはエンタイトルメント管理で使用されているため、ほかの目的やサービスで指定しないでください。</p><blockquote><p>該当箇所:</p><p>このプレビューでは、エンタイトルメント管理によって、スコープ内のユーザーを評価するために、各ポリシーに対応する動的セキュリティ グループが自動的に作成されます。 このグループは、エンタイトルメント管理自体以外は変更しないでください。 また、このグループはエンタイトルメント管理によって自動的に変更または削除される可能性があるため、他のアプリケーションやシナリオではこのグループを使用しないでください。</p></blockquote><p>Q. アクセス パッケージに複数の自動割り当てポリシーを含めてもいいのでしょうか？</p><p>A. 動作を確認する限りでは、複数の自動割り当てポリシーを作成できる動作となっています。ただし、<a href="https://learn.microsoft.com/ja-jp/azure/active-directory/governance/entitlement-management-access-package-auto-assignment-policy">公開情報</a> には最大 1 つと記載されているほか、多くの自動割り当てポリシーを作成すると管理が難しくなるため、 1 つのパッケージに 1 つの割り当てポリシーを設定することをお勧めします。</p><blockquote><p>該当箇所:</p><p>このプレビュー期間中は、アクセス パッケージに含められる自動割り当てポリシーは最大 1 つです。</p></blockquote><p>Q. 動作を確認しようと、検証目的で作成した自動割り当てポリシーが削除できません。</p><p>A. すでにパッケージにアクティブな割り当てがあると、ポリシーを削除するときにエラーになります。まずはポリシーを編集し、アクティブに割り当てられることのないような条件に変更してください。たとえば、 ObjectID が Null であるといった条件が利用できます。次に、 [割り当て] 画面から、すでに割り当てられてしまったアクセス権を選択して削除します。その後、自動割り当てポリシー自体も削除することが可能になります。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは。 Azure ID チームの小出です。&lt;/p&gt;
&lt;p&gt;この記事では、2022 年 8 月 29 日に公開された &lt;a href=&quot;https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-bl</summary>
      
    
    
    
    
    <category term="Azure AD" scheme="https://jpazureid.github.io/blog/tags/Azure-AD/"/>
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
    <category term="Entitlement Management" scheme="https://jpazureid.github.io/blog/tags/Entitlement-Management/"/>
    
  </entry>
  
  <entry>
    <title>グローバル管理者ロールを持つユーザーでサインインできない！</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/ga-is-locked-out/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/ga-is-locked-out/</id>
    <published>2022-11-13T00:00:00.000Z</published>
    <updated>2022-11-30T11:33:00.782Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure Identity サポート チームの 高田 です。</p><p>本日は、よく弊社にお問い合わせいただく以下のような内容について、改めて注意喚起もかねて記事を執筆いたしました。</p><ul><li>テナントを作成したユーザーが退職してしまい、グローバル管理者ロールを持つユーザーが分からない。</li><li>ゲスト ユーザーがグローバル管理者ロールを保持しているが、そのゲスト ユーザーの大元のユーザーにアクセスできない。</li><li>グローバル管理者ロールをもつユーザーがスマホをなくした、もしくは機種変更したので MFA を突破できない。</li><li>条件付きアクセスでグローバル管理者ロールを持つ全てのユーザーがブロックされ Azure ポータルに入れない。</li><li>1 人しかいないグローバル管理者のユーザーにリスクが検出されてしまいサインインできない。</li></ul><p>弊社サポートには連日上記のようなお問い合わせを多くいただきます。このような状況に陥った場合、弊社にお問い合わせをいただいても本人確認などを含め非常に多くのやり取りが発生するため、回復にお時間を要すことが一般的です。場合によっては弊社からでもテナントの回復が行えない場合もございます。</p><p>マイクロソフト側で対処することが可能なシナリオもありますが、可能な限り未然に上記のような状況を防ぐことが重要です。</p><p>そこで本記事では、テナントへのアクセスが失われないようマイクロソフトとして推奨する Azure AD テナント運用のベスト プラクティスを紹介いたします。</p><h2 id="まず確認すること"><a href="#まず確認すること" class="headerlink" title="まず確認すること"></a>まず確認すること</h2><p>まずは、このような事態を未然に防ぐために、Azure AD 管理者が確認しておくべきことを以下におまとめしました。</p><h3 id="社内にグローバル管理者ロールを持つ管理者を複数名確保する"><a href="#社内にグローバル管理者ロールを持つ管理者を複数名確保する" class="headerlink" title="社内にグローバル管理者ロールを持つ管理者を複数名確保する"></a>社内にグローバル管理者ロールを持つ管理者を複数名確保する</h3><p>Office 365 や Azure AD の利用を開始した直後のタイミングでは、そのテナントにはグローバル管理者ロールを持つアカウントが 1 つのみ存在しています。このため、引き継ぎなくそのアカウントの管理者が退職するなどすると、だれもそのテナントを管理できなくなります。</p><p>このような事態を防ぐため、社内の IT 部門において、必ず 2-3 名の信頼できるテナント管理者を任命し、それぞれの管理者ごとに Azure AD のユーザー (ゲスト ユーザーではなくテナント内のメンバーであり <a href="mailto:&#x78;&#x78;&#x78;&#64;&#99;&#x6f;&#x6e;&#x74;&#x6f;&#x73;&#111;&#46;&#x6f;&#x6e;&#x6d;&#105;&#x63;&#x72;&#x6f;&#x73;&#111;&#x66;&#x74;&#46;&#x63;&#111;&#109;">&#x78;&#x78;&#x78;&#64;&#99;&#x6f;&#x6e;&#x74;&#x6f;&#x73;&#111;&#46;&#x6f;&#x6e;&#x6d;&#105;&#x63;&#x72;&#x6f;&#x73;&#111;&#x66;&#x74;&#46;&#x63;&#111;&#109;</a> のような UPN を持つクラウド ユーザー) を発行することをお勧めします。ここで、一つの管理者アカウント (Azure AD ユーザー) を複数名で使いまわすことはお勧めしません。これは、アカウントが使いまわされることで、どの管理者がいつサインインし、どのような操作を行ったかの監査が困難となるためです。必ず異なる UPN と異なるパスワードで、管理者の数だけ、管理専用の Azure AD ユーザーを発行ください。グローバル管理者のロールを持つユーザーの数は、テナント全体で 5 人未満がおすすめです。</p><p>その他の推奨事項 (特に MFA の構成など) については、<a href="https://docs.microsoft.com/ja-jp/azure/active-directory/roles/best-practices">Azure AD ロールのベスト プラクティス</a> もご覧ください。</p><p>なお、いわゆる一人情シスなど、グローバル管理者ロールを持つユーザーが一名しか確保できない場合は、後述の緊急アクセス アカウントを必ず作成ください。2-3 名のテナント管理者を任命できる場合でも、緊急アクセスアカウントの準備を極力お勧めいたします。</p><h3 id="緊急アクセス用の管理アカウントを作成する"><a href="#緊急アクセス用の管理アカウントを作成する" class="headerlink" title="緊急アクセス用の管理アカウントを作成する"></a>緊急アクセス用の管理アカウントを作成する</h3><p>緊急アクセス用の管理アカウントは、グローバル管理者ロールを持つユーザーが誰もテナントにアクセスできなくなってしまった場合に、最後の手段として利用する緊急用アカウントのことです。緊急時にガラス窓を割って脱出するような状況に例えられるため、Break glass account とも呼ばれます。</p><p>緊急アクセス用の管理アカウントはどの管理者にも割り当てず、非常時にだけ利用します。緊急アクセス用の管理アカウントの ID とパスワードを発行したら、多要素認証の方法として FIDO2 セキュリティ キーを構成することをおすすめします。多要素認証の方法として電話を利用することはお勧めしません。電話キャリアに障害が発生したり、電話番号の契約が切れたりすると、重要な時にアカウントにサインインできなくなるためです。緊急アクセス用の管理アカウントは条件付きアクセスの対象からも除外ください。</p><p>アカウントの準備ができたら、ID とパスワード、多要素認証の構成に使用した FIDO2 セキュリティ キーを、Azure AD との複数の通信手段がある安全な場所 (社内の金庫など) に保管いただければと思います。緊急アクセス用の管理アカウントの詳細については、<a href="https://docs.microsoft.com/ja-jp/azure/active-directory/roles/security-emergency-access">こちらのページ</a> もご覧ください。</p><h3 id="会社や学校の住所およびその他のプロファイル情報を登録する"><a href="#会社や学校の住所およびその他のプロファイル情報を登録する" class="headerlink" title="会社や学校の住所およびその他のプロファイル情報を登録する"></a>会社や学校の住所およびその他のプロファイル情報を登録する</h3><p>テナントへのアクセスができなくなり、弊社へお問い合わせいただいた際には、お客様の会社名や連絡先を確認することで、お客様がテナントの正当な保持者であるかを弊社サポートが確認します。この時に、テナントに事前に登録された住所や会社名、技術連絡先などを利用します。このため、これらの登録情報を事前に登録するとともに、既に登録済みであれば正確な情報であることをご確認ください。</p><p>情報の登録や確認については、<a href="https://docs.microsoft.com/ja-JP/microsoft-365/admin/manage/change-address-contact-and-more">こちらのページ</a> をご覧ください。</p><p><img src="/blog/azure-active-directory/ga-is-locked-out/companyinfo.png" alt="組織の情報の入力例"></p><p>なお、弊社にお問い合わせをいただいても、上記情報が登録されていない場合や正確でない場合は、テナントの回復ができなくなりますので十分ご注意ください。</p><h2 id="普段の運用時に確認すること"><a href="#普段の運用時に確認すること" class="headerlink" title="普段の運用時に確認すること"></a>普段の運用時に確認すること</h2><h3 id="認証用のスマホを変更するときは-MFA-の登録情報の変更を忘れない"><a href="#認証用のスマホを変更するときは-MFA-の登録情報の変更を忘れない" class="headerlink" title="認証用のスマホを変更するときは MFA の登録情報の変更を忘れない"></a>認証用のスマホを変更するときは MFA の登録情報の変更を忘れない</h3><p>グローバル管理者ロールを持つユーザーを含め、すべてのユーザーで MFA の登録を推奨しています。管理者に限らず、一般ユーザーにおいても、多要素認証に使用するスマホを買い替える際は、併せて MFA の登録情報の変更を忘れないようご注意ください。</p><p>詳細は、別途公開しているサポート チーム ブログの <a href="https://jpazureid.github.io/blog/azure-active-directory/move-authenticator-to-new-phone/">スマホを替える時は、Microsoft Authenticator の移行を忘れないでください！</a> を参照ください。</p><h3 id="条件付きアクセス-ポリシーを構成するときは管理者ロールを持つユーザーを除外する"><a href="#条件付きアクセス-ポリシーを構成するときは管理者ロールを持つユーザーを除外する" class="headerlink" title="条件付きアクセス ポリシーを構成するときは管理者ロールを持つユーザーを除外する"></a>条件付きアクセス ポリシーを構成するときは管理者ロールを持つユーザーを除外する</h3><p>条件付きアクセス ポリシーを構成するときは、緊急アクセス用のアカウントや最低一名のグローバル管理者ロールを持つユーザーを除外することをお勧めします。条件付きアクセスポリシーを構成および変更する際には、十分ご注意ください。</p><p>条件付きアクセス ポリシーの詳細については、<a href="https://docs.microsoft.com/ja-jp/azure/active-directory/governance/conditional-access-exclusion#create-a-conditional-access-policy-that-excludes-the-group">こちらのページ</a> もご覧ください。</p><h2 id="テナントやリソースにアクセスできなってしまった場合に確認すること"><a href="#テナントやリソースにアクセスできなってしまった場合に確認すること" class="headerlink" title="テナントやリソースにアクセスできなってしまった場合に確認すること"></a>テナントやリソースにアクセスできなってしまった場合に確認すること</h2><p>上記の対応を行っておけば、テナントやリソースにアクセスできず、ロックアウトされることはありません。しかしながら、万が一、何らかの理由により管理者がテナントやリソースにアクセスできなってしまった場合には以下の点をご確認ください。</p><h3 id="Azure-サブスクリプションに対して-Azure-AD-のグローバル管理者のアクセス権を昇格する"><a href="#Azure-サブスクリプションに対して-Azure-AD-のグローバル管理者のアクセス権を昇格する" class="headerlink" title="Azure サブスクリプションに対して Azure AD のグローバル管理者のアクセス権を昇格する"></a>Azure サブスクリプションに対して Azure AD のグローバル管理者のアクセス権を昇格する</h3><p>これは、何らかの理由により、Azure サブスクリプションのリソースにその所有者がアクセスできなくなってしまったが、Azure AD のグローバル管理者ロールを持つユーザーは Azure ポータルにサインインができる場合のシナリオです。</p><p>サブスクリプションの所有者が Azure AD にサインインできなくなっても、Azure AD のグローバル管理者ロールを持つユーザーをサブスクリプションの所有者に昇格させることが可能です。これにより、一時的にグローバル管理者ロールを持つユーザーでリソースを管理可能となります。</p><p>詳細については、<a href="https://docs.microsoft.com/ja-jp/azure/role-based-access-control/elevate-access-global-admin">Azure のすべてのサブスクリプションと管理グループを管理する目的でアクセス権限を昇格させる</a> のページをご覧ください。</p><h3 id="他の管理者ユーザーでアクセスが可能か確認する"><a href="#他の管理者ユーザーでアクセスが可能か確認する" class="headerlink" title="他の管理者ユーザーでアクセスが可能か確認する"></a>他の管理者ユーザーでアクセスが可能か確認する</h3><p>グローバル管理者ロールを持つユーザーでサインインができなくなってしまった場合、念のため、一般ユーザーであればサインインが可能か、サインインできる場合は、Azure ポータルの [ロールと管理者] から誰がグローバル管理者ロールを持っているか確認ください。確認できたグローバル管理者ロールを持つユーザー全員に対してサインインをお試しください。</p><p><img src="/blog/azure-active-directory/ga-is-locked-out/globaladmin.png" alt="グローバル管理者ロールを持つユーザーの確認方法"></p><p>条件付きアクセスで社外からのアクセスを制限している場合には、社内ネットワークからのサインインが可能かどうかなど、アクセス時の条件を変えてサインインが可能かも確認くださいますようお願い申し上げます。</p><h3 id="マイクロソフト-サポートに問い合わせる"><a href="#マイクロソフト-サポートに問い合わせる" class="headerlink" title="マイクロソフト サポートに問い合わせる"></a>マイクロソフト サポートに問い合わせる</h3><p>どの管理者ユーザーでもテナントにアクセスできない場合は、最後の手段として弊社サポートチームまでお問い合わせください。この時、問題はサポートにお問い合わせを行おうにも、Azure ポータルに管理者アカウントがアクセスができず、自社のテナントからサポートを上げられない状況にあるということです。</p><p>この場合、<a href="https://aka.ms/AzurePortalHelp">https://aka.ms/AzurePortalHelp</a> にアクセスし、日本の窓口電話番号まで連絡してお問い合わせを発行ください。Azure ポータルにアクセスできない場合に、サポート リクエストを発行する方法については、<a href="https://azure.microsoft.com/ja-jp/support/legal/faq/">Azure サポート プランに関する FAQ</a> も参考となりますのでご参照ください。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure Identity サポート チームの 高田 です。&lt;/p&gt;
&lt;p&gt;本日は、よく弊社にお問い合わせいただく以下のような内容について、改めて注意喚起もかねて記事を執筆いたしました。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;テナントを作成したユーザーが退職してしまい、グ</summary>
      
    
    
    
    
    <category term="Azure AD" scheme="https://jpazureid.github.io/blog/tags/Azure-AD/"/>
    
  </entry>
  
  <entry>
    <title>モバイル端末での Azure AD 証明書ベース認証 (CBA)</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/azure-ad-certificate-based-authentication-cba-on-mobile/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/azure-ad-certificate-based-authentication-cba-on-mobile/</id>
    <published>2022-11-06T00:00:00.000Z</published>
    <updated>2022-11-30T11:33:00.618Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure Identity サポート チームの 高田 です。</p><p>本記事は、2022 年 11 月 2 日に米国の Azure Active Directory Identity Blog で公開された <a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/azure-ad-certificate-based-authentication-cba-on-mobile/ba-p/2365672">Azure AD Certificate-based Authentication (CBA) on Mobile</a> を意訳したものになります。</p><hr><p>Ignite 2022 では、大統領令 14028 (Improving the Nation’s Cybersecurity) への Microsoft のコミットメントの一環として、Azure Active Directory (Azure AD) の証明書ベース認証 (CBA) の一般提供を開始することを発表しました。今回、ハードウェア セキュリティキー (YubiKey) 上の証明書を使用した iOS および Android デバイスでの Azure AD CBA のサポートについてパブリック プレビューを発表することができ、大変うれしく思っています。</p><p>BYOD (Bring Your Own Device) が増加する中、この機能により、ユーザーのモバイル デバイスに証明書をプロビジョニングすることなく、モバイルにおいてフィッシング耐性のある MFA を要求することができるようになります。今回は、モバイルでの Azure AD CBA のサポートについて、Microsoft Entra のプロダクト マネージャーである Vimala Ranganathan を招き、モバイルでのフィッシング耐性 MFA の詳細について解説します。</p><p>皆様のご意見をお待ちしております。</p><p>Alex Weinert (twitter: <a href="https://twitter.com/alex_t_weinert">@Alex_t_weinert</a>)</p><hr><p>皆様こんにちは。</p><p>ハードウェア セキュリティ キー上の証明書を使用した iOS および Android デバイス上の <strong>Azure AD CBA</strong> のパブリック プレビューについて、詳しくご紹介します。</p><p><img src="/blog/azure-active-directory/azure-ad-certificate-based-authentication-cba-on-mobile/SHDriggers_0-1667344126894.png"></p><p>米国のサイバー セキュリティに関する <a href="https://www.whitehouse.gov/briefing-room/presidential-actions/2021/05/12/executive-order-on-improving-the-nations-cybersecurity/">大統領令 14028</a> は、すべてのデバイス プラットフォームでフィッシング耐性のある MFA を使用することを要求しています。モバイルでは、顧客が個人のモバイル デバイスにユーザー証明書をプロビジョニングして認証に使用することができますが、これは主に管理されたモバイル デバイスで実現可能なものです。しかし、今回のパブリック プレビューでは、BYOD のサポートが可能になりました。お客様は、ハードウェア セキュリティ キーに証明書をプロビジョニングし、iOS および Android デバイスの Azure AD による認証に使用できるようになりました。</p><p>Microsoft のモバイルにおける証明書ベースのソリューションは、ハードウェア セキュリティ キーと併せて利用することで、シンプルで便利、なおかつ FIPS (Federal Information Processing Standards) 認定のフィッシング耐性のある MFA 方式です。</p><p>すべてのブラウザベースの Web アプリとネイティブ アプリ (最新の <a href="https://learn.microsoft.com/ja-jp/azure/active-directory/develop/msal-overview">Microsoft Authentication Library</a> (MSAL) を使用する Microsoft 製ファーストパーティ アプリを含む) において、モバイル デバイス上で <a href="https://www.yubico.com/products/">YubiKey</a> を用いた Azure AD CBA がサポートされます。また、最新の MSAL を利用していないすべてのアプリにおいても、最新の Microsoft Authenticator (<a href="https://play.google.com/store/apps/details?id=com.azure.authenticator&gl=US">Android</a> または <a href="https://apps.apple.com/app/microsoft-authenticator/id983156458">iOS/iPadOS</a>) を利用したブローカー認証フローで Yubikey を用いた Azure AD CBA がサポートされます。</p><h2 id="Yubikey-を用いた-iOS-上での-Azure-AD-CBA-の動作"><a href="#Yubikey-を用いた-iOS-上での-Azure-AD-CBA-の動作" class="headerlink" title="Yubikey を用いた iOS 上での Azure AD CBA の動作"></a>Yubikey を用いた iOS 上での Azure AD CBA の動作</h2><p>使用に当たり、最初の登録として、ユーザーは <a href="https://apps.apple.com/us/app/yubico-authenticator/id1476679808">Yubico Authenticator for iOS</a> アプリを使用して YubiKey の公開証明書を iOS キーチェーンにコピーする必要があります (スマートカード証明書の秘密情報が YubiKey の外に漏れることはありません)。</p><p>サインインするには、ユーザーは証明書の選択画面から YubiKey の証明書を選択し、YubiKey を挿入するか NFC 対応の YubiKey をタップし、YubiKey Authenticator 経由で PIN を入力して、認証フローを終了します。</p><p><img src="/blog/azure-active-directory/azure-ad-certificate-based-authentication-cba-on-mobile/SHDriggers_1-1667344126898.png"></p><p><img src="/blog/azure-active-directory/azure-ad-certificate-based-authentication-cba-on-mobile/SHDriggers_2-1667344126900.png"></p><h2 id="Yubikey-を用いた-Android-上での-Azure-AD-CBA-の動作"><a href="#Yubikey-を用いた-Android-上での-Azure-AD-CBA-の動作" class="headerlink" title="Yubikey を用いた Android 上での Azure AD CBA の動作"></a>Yubikey を用いた Android 上での Azure AD CBA の動作</h2><p>Android のモバイル デバイスでの YubiKey による Azure AD CBA サポートは、最新の MSAL によって有効化されるため、YubiKey Authenticator アプリは Android では必須ではありません。</p><p>ユーザーは YubiKey を USB 経由で接続し、Azure AD CBA を開始します。YubiKey から証明書を選び、PIN を入力してアプリケーションで認証を受けることができます。</p><p><img src="/blog/azure-active-directory/azure-ad-certificate-based-authentication-cba-on-mobile/SHDriggers_4-1667344126905.png"></p><p><img src="/blog/azure-active-directory/azure-ad-certificate-based-authentication-cba-on-mobile/SHDriggers_5-1667344126908.png"></p><p>このパブリック プレビューについて詳細をご要望の場合は、Yubico が 11 月 3 日 9 AM (PST) から提供予定のウェビナー “New solutions to prevent phishing with Azure AD and YubiKeys” にご参加ください。<a href="https://www.brighttalk.com/webcast/15793/562225?utm_source=brighttalk-portal&utm_medium=web&utm_campaign=channel-page&utm_content=upcoming">こちら</a> から参加登録いただけます。</p><p>Azure AD CBA と Yubikey についての詳細はこちらもどうぞ:</p><ul><li>Azure AD CAB: <a href="http://aka.ms/aadcba">http://aka.ms/aadcba</a> </li><li>iOS における Azure AD CBA: <a href="https://learn.microsoft.com/en-us/azure/active-directory/authentication/concept-certificate-based-authentication-mobile-ios">Azure Active Directory certificate-based authentication on iOS devices</a></li><li>Android における Azure AD CBA: <a href="https://learn.microsoft.com/en-us/azure/active-directory/authentication/concept-certificate-based-authentication-mobile-android">Azure Active Directory certificate-based authentication on Android devices</a></li><li>Yubikey: Meet the YubiKey - <a href="https://www.yubico.com/why-yubico/">Strong Two-Factor Authentication Solution</a></li></ul><h2 id="今後について"><a href="#今後について" class="headerlink" title="今後について"></a>今後について</h2><p>引き続き <a href="https://feedback.azure.com/d365community/forum/22920db1-ad25-ec11-b6e6-000d3a4f0789">Azure Active Directory コミュニティ</a> までフィードバックをお寄せください。弊社では継続して Yubikey に対する NFC のサポートに取り組んでおり、モバイル上での Azure AD CBA に他のスマートカード提供元を統合すべく取り組んでおります。大統領令 14028 への弊社のコミットメントについては <a href="https://www.microsoft.com/en-us/federal/CyberEO.aspx">こちら</a> もご覧ください。</p><p>Vimala</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure Identity サポート チームの 高田 です。&lt;/p&gt;
&lt;p&gt;本記事は、2022 年 11 月 2 日に米国の Azure Active Directory Identity Blog で公開された &lt;a href=&quot;https://techco</summary>
      
    
    
    
    
    <category term="Azure AD" scheme="https://jpazureid.github.io/blog/tags/Azure-AD/"/>
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
  </entry>
  
  <entry>
    <title>Azure AD の耐障害性を高める取り組み</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/advances-in-azure-ad-resilience/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/advances-in-azure-ad-resilience/</id>
    <published>2022-11-04T01:00:00.000Z</published>
    <updated>2022-11-30T11:33:00.590Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure Identity サポート チームの 高田 です。</p><p>本記事は、2022 年 10 月 28 日に米国の Azure Active Directory Identity Blog で公開された <a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/advances-in-azure-ad-resilience/ba-p/2147048">Advances in Azure AD resilience</a> を意訳したものになります。</p><hr><p>現在、<a href="https://www.microsoft.com/ja-jp/security/business/microsoft-entra">Microsoft Entra</a> に含まれる Azure Active Directory (Azure AD) のようなエンタープライズ レベルのソリューションでは、耐障害性とセキュリティが基本の要件となっています。Microsoft では、Azure AD の耐障害性とエンタープライズ レベルのセキュリティを最も重要視しており、お客様の期待に確実に応えるために継続的に開発を進めています。</p><p>弊社では、これまで定期的に耐障害性への投資に関する情報をお届けしてきました。これら一連のお知らせでは当初、<a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/99-99-uptime-for-azure-active-directory/ba-p/1999628">99.99% の SLA</a> について説明し、当社の耐障害性のロードマップの <a href="https://azure.microsoft.com/ja-jp/blog/advancing-azure-active-directory-availability/">基本原則とアーキテクチャの基礎</a> を紹介するとともに、システムに組み込まれた完全自動の <a href="https://azure.microsoft.com/en-us/blog/advancing-service-resilience-in-azure-active-directory-with-its-backup-authentication-service/">バックアップ認証サービス</a> など、高度に差別化された耐障害性の機能について紹介してきました。本日は、最新の進捗状況、主な成果、およびさらなる改善のための計画について紹介します。</p><h2 id="これまでの成果"><a href="#これまでの成果" class="headerlink" title="これまでの成果"></a>これまでの成果</h2><p>弊社の耐障害性に対するアプローチは、複数の階層にまたがるものです。Azure AD サービスは、Microsoft クラウド全体で採用されているエンタープライズ レベルのセキュリティとベストプラクティスに基づいて構築されています。これは、次のことを意味します:</p><ul><li>このサービスは、VM やネットワーク スイッチからデータセンター全体に至るまで、あらゆる障害に耐えられるよう、何層もの内部冗長性を持つように設計されています。データセンター全体の障害からの復帰を含め、定期的に運用環境でこの点を検証しています。</li><li>サービスおよび依存関係の全ての場所で単一障害点がないか確認し、それらを取り除くよう継続的に取り組んでいます。外部への依存関係の例として、Azure AD では MFA 用の SMS と音声通知の配信に通信事業者を使用していることがあげられます。メッセージ配信の耐障害性を確保するために、複数の (各国で最大 5 つの) 通信事業者を完全にアクティブ/アクティブな状態で使用しています。</li><li>すべての変更は、完全に自動化された非常に厳格な Safe Deployment プロセス (SDP) を使用して適用されます。これは、変更に関連して生じる問題をできるだけ早く、理想的にはお客様に影響が及ぶ前に捉え、その影響を食い止めるためのものです。Safe Deployment プロセスには、何層もの内部自動テスト、本番環境へのゆっくりとした段階的ロールアウト、予期せぬ影響をもたらしている変更を自動的に停止しロールバックできるテレメトリ (正常性確認の監視) の層が含まれています。</li></ul><p>この 1 年間は、これらの核となる取り組みに加えて、障害耐性を高める層をより厚くするために、以下を実施しました。</p><ul><li>潜在的な障害の可能性と影響を低減するためのさらなる取り組み (バックアップ認証システムおよび地域ごとに独立した認証エンドポイントの導入)。</li><li>100 以上の区画を持つセルベース アーキテクチャ (障害やサービス劣化の影響範囲を構造的に縮小するよう設計) への移行完了。</li><li>アプリケーションに耐障害性を持たせるための Continuous Access Evaluation (CAE: 継続的アクセス評価) などの技術を開発し提供。</li></ul><p>これらの投資を組み合わせることで、耐障害性の高いコアサービスを提供するとともに、SDK やアプリケーションに組み込まれた耐障害性の層により、他のすべての耐障害性の層に障害が発生しても、影響を受けずに動作を継続することができるように設計されています。</p><p>これらの耐障害性機能は、Microsoft のアプリだけでなく、Azure AD と統合する <strong>すべての</strong> アプリケーションで利用いただけます。お客様のアプリケーションでは <a href="https://learn.microsoft.com/ja-jp/azure/active-directory/develop/msal-overview">Microsoft Authentication Library</a> (MSAL SDK) を活用することで、これらの耐障害性の機能を最大限に活用することが可能です。</p><p>以下に、昨年度提供した耐障害性に関する主な技術革新をまとめます。</p><h3 id="バックアップ認証システム"><a href="#バックアップ認証システム" class="headerlink" title="バックアップ認証システム"></a>バックアップ認証システム</h3><p>航空機のシステムや宇宙船などのミッション クリティカルなシステムには、複数の冗長化されたシステムの概念が長年存在しています。弊社では 1 年以上前に、Azure AD を保護するために、同様のコンセプトであるバックアップ認証サービスを導入しました。  </p><p>現在、マイクロソフトとサードパーティーのアプリケーションの両方を保護するため、このシステムの運用環境への展開が完了し、稼働状態となっています。万が一、このバックアップ システムが必要になった場合に備えて、全トラフィックの一部を使って常に稼働確認が行われており、Microsoft 社内では定期的にバックアップ システムに通信を切り替えてその効果を測定しています。弊社は、システムが提供する保護領域と、バックアップ認証システムがカバーする認証シナリオの数を常に増やしています。</p><h3 id="継続的なアクセス評価-アプリの継続的な動作にむけて"><a href="#継続的なアクセス評価-アプリの継続的な動作にむけて" class="headerlink" title="継続的なアクセス評価 - アプリの継続的な動作にむけて"></a>継続的なアクセス評価 - アプリの継続的な動作にむけて</h3><p>現在の先進的な認証は、Outlook などのクライアントが、Exchange Online などのリソースに定期的 (通常は 1 時間) にアクセスし、ユーザーのアクセス状態を更新するという仕組みに基づいています。今年初めには、<a href="https://learn.microsoft.com/ja-jp/azure/active-directory/conditional-access/concept-continuous-access-evaluation">Continuous Access Evaluation (CAE: 継続的アクセス評価)</a> の仕組みを導入し、セキュリティ上のイベントが検出された場合に、Azure AD がプロアクティブかつ即座にアクセスを取り消すことが可能になりました。この技術革新により、セキュリティを向上させると同時に、サポートされるリソースに対しては更新間隔を 1 時間から 24 時間に引き上げることができました。この更新間隔の延長により、既存のセッションは Azure AD のコアサービスにおけるいかなる問題にも影響されることなく、大幅に長く (平均 12 時間もしくは 24 時間のアクセス持続時間の半分) 運用を継続することが可能になりました。</p><p>現在、ユーザー セッションの 30％ が CAE の強化されたセキュリティと拡張された耐障害性の恩恵を受けています。2023 年中に、さらに多くのリソースを統合して、このカバー率を高める予定です。</p><h3 id="セルベースのアーキテクチャ"><a href="#セルベースのアーキテクチャ" class="headerlink" title="セルベースのアーキテクチャ"></a>セルベースのアーキテクチャ</h3><p>セルベースのアーキテクチャは、サービスを独立したパーティションに厳格に分離し、あらゆる障害の影響をそのセルの外に及ばせないよう設計されています。これは例えるなら、船において一部が浸水したとしても、浸水が他の区画や船全体の完全性に影響を与えないようになっている隔壁を持つ船のようなものです。Azure AD は昨年、117 のセルに移行し、どのセルもサービス全体のトラフィックの 2% 以上を含まないようになりました。セル自体には、複数のレベルの耐障害性が組み込まれています。例えば、複数の独立した Azure リージョンからのトラフィックを処理し、これまでに解説した耐障害性の原則に完全に則っています。</p><p>このように細かい粒度で分離されているため、セル内に存在しているどのテナントも、他のテナントの障害の大部分から非常に強く隔離されていることになります。</p><h3 id="地域ごとに分離された認証エンドポイント"><a href="#地域ごとに分離された認証エンドポイント" class="headerlink" title="地域ごとに分離された認証エンドポイント"></a>地域ごとに分離された認証エンドポイント</h3><p>Azure AD は、ユーザーのための ID システムであるだけでなく、Azure 上に構築されたアプリやサービスのための ID およびアクセス管理 (IAM) システムでもあります。例えば、Azure AD は、VM 自体がストレージに対して認証するような、すべての基盤の認証に使用されます。このように何重もの耐障害性を確保するために、私たちはほとんどの Azure リージョンで地域ごとに分離された認証エンドポイントを導入しています。地域別エンドポイントは、バックアップ認証システムに加えて、第 3 の耐障害性レイヤーを追加し、その地域内の認証を完全に処理することが可能です。</p><p>現在、Azure リソース用の <a href="https://learn.microsoft.com/ja-jp/azure/active-directory/managed-identities-azure-resources/overview">Managed ID</a> の 95% は、地域のエンドポイントによって提供および保護されています。これにより、プライマリの Azure AD 認証サービスに問題が生じた場合でも、Azure 上に構築されたお客様のワークロードに影響を与えないようになっています。</p><h2 id="これらを総合した主な結果"><a href="#これらを総合した主な結果" class="headerlink" title="これらを総合した主な結果"></a>これらを総合した主な結果</h2><p>過去 12 カ月では、2021 年 12 月を除くすべての月で、<a href="https://review.learn.microsoft.com/ja-jp/azure/active-directory/reports-monitoring/reference-azure-ad-sla-performance?branch=main">Azure AD の稼働率</a> 99.99% の SLA を達成したことをお知らせします。12 月については、一部のバック エンドシステムに影響を与えたサービス劣化により、SLA がスリー ナイン レベル、つまり 99.978% まで低下しました。この問題は、ユーザーの 1% 未満に影響し、90 分以内に解決されました。</p><p>このサービス劣化は、弊社の多層的な耐障害性対策の価値を実際に示すもので、多層的な耐障害性対策が功を奏し、ほとんどのユーザーがまったく影響を受けずに済みました。</p><h2 id="今後の取り組み"><a href="#今後の取り組み" class="headerlink" title="今後の取り組み"></a>今後の取り組み</h2><p>私たちの目標は、耐障害性に対するハードルを常に上げ、より多くのツールや機能をお客様の手に届けることです。この連載では、上記のようなロードマップの進捗状況や、サービスの耐障害性を支える弊社のアーキテクチャやシステムの仕組みについて深く掘り下げた内容を定期的にお伝えしていく予定です。併せて <a href="https://azure.microsoft.com/ja-jp/support/legal/sla/active-directory/v1_1/">SLA の詳細</a> と <a href="https://learn.microsoft.com/ja-jp/azure/active-directory/fundamentals/resilience-in-infrastructure">稼働時間の月次情報</a> をチェックすることもお勧めします。</p><p>Nadim Abdo<br>CVP, Engineering</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure Identity サポート チームの 高田 です。&lt;/p&gt;
&lt;p&gt;本記事は、2022 年 10 月 28 日に米国の Azure Active Directory Identity Blog で公開された &lt;a href=&quot;https://techc</summary>
      
    
    
    
    
    <category term="Azure AD" scheme="https://jpazureid.github.io/blog/tags/Azure-AD/"/>
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
  </entry>
  
  <entry>
    <title>B2B コラボレーション用の非管理アカウントが作成されなくなりました</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/say-goodbye-to-unmanaged-azuread-account-for-b2b/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/say-goodbye-to-unmanaged-azuread-account-for-b2b/</id>
    <published>2022-11-04T00:00:00.000Z</published>
    <updated>2022-11-30T11:33:01.050Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、 Azure ID チームの小出です。</p><p>本記事は、2022/9/2 の <a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/say-goodbye-to-unmanaged-azure-ad-accounts-for-b2b-collaboration/ba-p/3094111">Say goodbye to unmanaged Azure AD accounts for B2B collaboration</a> の記事の抄訳を元に Azure AD B2B コラボレーションの動作変更と、対処策についてお知らせします。</p><h2 id="変更内容の概要"><a href="#変更内容の概要" class="headerlink" title="変更内容の概要"></a>変更内容の概要</h2><p>Azure Active Directory (Azure AD) において、B2B コラボレーション用の非管理 (バイラル) アカウントが廃止されました。B2B コラボレーション用の非管理 (バイラル) アカウントは、「いつのまにか自動で作成されている」、「削除すると、ゲストがリソース テナントにアクセスできなくなる」など、管理や運用が難しいという課題を抱えていました。また、「アカウントを誰が作成したのか分からない」、「消していいのか」など、弊社サポートでもお問い合わせをいただいていました。</p><p>以前 <a href="https://jpazureid.github.io/blog/azure-active-directory/announcement-of-otp/">2021 年 10 月に予定されるゲスト ユーザー招待時の動作変更について</a> の弊社ブログでは、非管理アカウントがサポートされなくなる旨と、代替案として OTP の仕様についてご案内しておりました。今回の変更では、サポートされなくなった非管理アカウントが、今後の動作としても新しく作成されなくなりました。</p><p>なお、以前に招待され、非管理型の Azure AD アカウントとして引き換えされたアカウントは、引き続き機能します。 </p><h2 id="以前の動作"><a href="#以前の動作" class="headerlink" title="以前の動作"></a>以前の動作</h2><p>具体的には、以前の承諾フローにて、⑧ から ⑨ に遷移することがなくなりました。</p><p><img src="/blog/azure-active-directory/say-goodbye-to-unmanaged-azuread-account-for-b2b/say-goodbye-to-unmanaged-azuread-account-for-b2b1.png"></p><p>⑧ から ⑨ に遷移した時には、以下のような Set up your account with Microsoft というメッセージとパスワードの設定画面が表示されていましたが、<br>今回の変更によりこの画面からアカウントが自動作成されることがなくなりました。</p><p><img src="/blog/azure-active-directory/say-goodbye-to-unmanaged-azuread-account-for-b2b/say-goodbye-to-unmanaged-azuread-account-for-b2b2.png"></p><h2 id="現在の動作"><a href="#現在の動作" class="headerlink" title="現在の動作"></a>現在の動作</h2><p>現在の新しい承諾フローは、下記のようになります。 ⑥ のフローで OTP が無効な場合、 個人用 Microsoft アカウントを作成するよう求められます。<br>承諾フローの数が減り、よりシンプルで分かりやすい形になりました。 </p><p><img src="/blog/azure-active-directory/say-goodbye-to-unmanaged-azuread-account-for-b2b/say-goodbye-to-unmanaged-azuread-account-for-b2b3.png"></p><p>以前のブログにて、 OTP の機能を有効化することをご案内しております。</p><p>⑥ のフローで Yes に遷移した場合、下記のような画面に遷移します。パスワードを入力する画面が一度もない場合は、 OTP のフローに入ったと判断できます。</p><p><img src="/blog/azure-active-directory/say-goodbye-to-unmanaged-azuread-account-for-b2b/say-goodbye-to-unmanaged-azuread-account-for-b2b4.png"></p><p>OTP が無効なシナリオで ⑦ に遷移した場合には、下記のように Microsoft アカウント作成画面が表示されます。</p><p><img src="/blog/azure-active-directory/say-goodbye-to-unmanaged-azuread-account-for-b2b/say-goodbye-to-unmanaged-azuread-account-for-b2b5.png"></p><p>Microsoft アカウントには、パスワードを設定する必要があるため、 [次へ] をクリックしたときにパスワード入力画面が表示されるのが特徴です。</p><p><img src="/blog/azure-active-directory/say-goodbye-to-unmanaged-azuread-account-for-b2b/say-goodbye-to-unmanaged-azuread-account-for-b2b6.png"></p><h2 id="既存の非管理アカウントのクリーンアップ方法"><a href="#既存の非管理アカウントのクリーンアップ方法" class="headerlink" title="既存の非管理アカウントのクリーンアップ方法"></a>既存の非管理アカウントのクリーンアップ方法</h2><p>上記変更により、今後非管理アカウントは新しく作成されなくなりましたが、テナントにすでに登録されている非管理 (バイラル) アカウントは、そのまま残ってしまいます。<br>そのため、「組織に非管理 (バイラル) アカウントがあるか」を確認し、「今後どのような対応をとるか」を検討いただくことをお勧めいたします。</p><p>確認と棚卸を進めていただく方法として、以下 2 種類の方法を提供しています。</p><ul><li>MSIdentity Tools PowerShell Module  を使用して、 PowerShell コマンドで管理・棚卸を行う</li><li>下記の<a href="https://github.com/Azure-Samples/Remove-Unmanaged-Guests">サンプル アプリケーション</a>を利用する</li></ul><p>今回はコマンドやアプリになじみがないお客さまでも実施できるよう、コマンドで簡単に非管理アカウントを抽出・管理する方法について案内します。詳細は、<a href="https://learn.microsoft.com/ja-jp/azure/active-directory/enterprise-users/clean-up-unmanaged-azure-ad-accounts">アンマネージド Azure Active Directory アカウントをクリーンアップする</a> の公開情報も併せてご覧ください。</p><h3 id="事前準備"><a href="#事前準備" class="headerlink" title="事前準備"></a>事前準備</h3><p>下記に記載の手順を利用するためには、MSIdentityTools PowerShell モジュールが必要です。まずは以下のコマンドを使用して、モジュールをインストールします。</p><p>注意点は、 PowerShell を管理者特権で開く必要がある点です。 PowerShell を開いたときに、左上に「管理者」と表示されていれば問題ありません。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Install-Module MSIdentityTools</span><br><span class="line">Install-Module Microsoft.Graph</span><br></pre></td></tr></table></figure><h3 id="実施手順"><a href="#実施手順" class="headerlink" title="実施手順"></a>実施手順</h3><p>モジュールがインストールできたら、 Azure AD に接続します。接続には Connect-MgGraph コマンドを使用します。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Connect-MgGraph --Scope User.Readwrite.All</span><br></pre></td></tr></table></figure><p>サインイン画面が表示されたら、ユーザー名とパスワードを入力してサインインします。Welcome To Microsoft Graph! のメッセージが表示されたら、サインインは完了です。</p><p>次に、テナントに非管理 (バイラル) アカウントがあるか確認します。下記のコマンドを実行します。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Get-MsIdUnmanagedExternalUser</span><br></pre></td></tr></table></figure><p>このコマンドでは、非管理 (バイラル) アカウントの外部ユーザーを取得しています。ユーザー名など、もし何も応答が返されなければ、組織に非管理 (バイラル) アカウントはないため、この先の対処策を実行する必要はありません。</p><p>もしユーザーが表示された場合には、非管理 (バイラル) アカウントに対し、下記いずれかの対処を行うことをお勧めいたします。</p><ul><li>ゲストの招待状況をリセットする</li><li>アカウントを削除する</li></ul><p>招待をリセットすると、ユーザーは再度招待を承諾する必要があります。招待されたユーザーが組織アカウントなのか、個人アカウントなのかなどは、管理者が招待したタイミングではなく、ユーザーが承諾したタイミングで決まるため、招待状況をリセットすると、改めて上記画像に記載のフローが適用されます。</p><p>改めて招待を承諾する際には、現在のフローが適用されるため、非管理 (バイラル) アカウントとして承諾することはできません。組織アカウント、 Microsoft アカウントのほか、 OTP のユーザーとして招待を承諾することができます。</p><p>アカウントの削除については、非管理 (バイラル) アカウントがもう必要ない場合にご選択ください。もし該当のゲストが引き続きテナントにアクセスしたい場合は、改めて管理者が招待を行い、ユーザーが承諾を行う必要があります。</p><p>対応方針が決まったら、下記いずれかのコマンドを実行して、リセットもしくはアカウントを削除します。</p><p>リセットする場合:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Get-MsIdUnmanagedExternalUser | Reset-MsIdExternalUser</span><br></pre></td></tr></table></figure><p>削除する場合:</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Get-MsIdUnmanagedExternalUser | Remove-MgUser</span><br></pre></td></tr></table></figure><p>最後に、 下記のコマンドを実行して接続を終了すれば完了です。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Disconnect-MgGraph</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、 Azure ID チームの小出です。&lt;/p&gt;
&lt;p&gt;本記事は、2022/9/2 の &lt;a href=&quot;https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/say-goodby</summary>
      
    
    
    
    
    <category term="Azure AD" scheme="https://jpazureid.github.io/blog/tags/Azure-AD/"/>
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
  </entry>
  
  <entry>
    <title>認証強度 - シナリオに適した認証方式を選択可能に</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/authentication-strength-choose-the-right-auth-method-for-your/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/authentication-strength-choose-the-right-auth-method-for-your/</id>
    <published>2022-11-02T00:00:00.000Z</published>
    <updated>2022-11-30T11:33:00.606Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure Identity サポート チームの 竜 です。</p><p>本記事は、2022 年 10 月 19 日に米国の Azure Active Directory Identity Blog で公開された <a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/authentication-strength-choose-the-right-auth-method-for-your/ba-p/2365674">Authentication strength – choose the right auth method for your scenario!</a> を意訳したものになります。</p><hr><p>管理者が、<strong>条件付きアクセス</strong> にて、リソースへのアクセスに使用できる認証方式を指定できる <strong>認証強度</strong> の機能を発表できることを嬉しく思います。例えば、管理者は、ユーザーがテナント内のリソースにアクセスする際に、任意の多要素認証 (MFA: Multi-Factor Authentication) の方法を要求する一方、特に機密性の高いリソースにアクセスする際にはフィッシング耐性のある認証方法を要求するということが可能となります。</p><p>「多要素認証の要求」は、条件付きアクセスで最も利用されているアクセス制御であり、約 35% のポリシーがこのアクセス制御を使用しています。ユーザーは、従来のパスワードに加え、MFA の認証方法である SMS や、より先進的で強力な Authenticator アプリや FIDO2 セキュリティ キーなどの組み合わせを使用することで、この要件を満たすことができます。</p><p>すべての MFA の方法が、同じように作られているわけではありません。時間が経つについて、Azure AD には新しい最新の認証方法が追加され、中には他の方法よりも安全なものもあります。認証強度の機能を使用することで、これらの認証方法を区別し、最も機密性の高いリソースには最も安全な認証方法を使用することができるようになります。</p><p>条件付きアクセスにおける認証強度の機能は、重要なコンプライアンスや規制の要件を満たすことにおいても有効です。たとえば、大統領令 14028「国家のサイバーセキュリティの改善」を支援するために発行された <a href="https://learn.microsoft.com/ja-jp/azure/active-directory/standards/memo-22-09-multi-factor-authentication">米国連邦政府の行政管理予算局 (OMB) の覚書 22-09</a> では、従来の MFA の方法の脆弱さを指摘し、フィッシング耐性のある MFA の使用を義務付けています。認証強度の機能は、政府のお客様が、従業員やベンダーにフィッシング耐性のある MFA を施行するのに役立ちます。<a href="https://learn.microsoft.com/ja-jp/azure/active-directory/standards/memo-22-09-meet-identity-requirements">Azure AD で覚書 22-09 の MFA の要件を満たす方法の詳細</a> については、こちらをご参照ください。</p><p>今回は、Microsoft Entra のプロダクト マネージャーである Inbar Cizer Kobrinsky と Namrata Kedia を招き、フィッシング耐性のある MFA の利用に向け、この画期的な機能をどのように活用できるかをご紹介いただきます。</p><p>Alex Weinert (twitter: <a href="https://techcommunity.microsoft.com/t5/user/viewprofilepage/user-id/15847#profile">@Alex</a>_t_weinert)</p><p>–  </p><p>皆さん、こんにちは。  </p><p>Microsoft Ignite で発表された、内部および外部ユーザーを対象とした <strong>条件付きアクセスの「認証強度」</strong> の <strong>パブリック プレビュー</strong> について、詳しくお伝えできることを嬉しく思います。この機能により、管理者は機密性の高いリソースへのアクセスに使用できる認証方法を制御し、フィッシング耐性のある MFA の利用に向けた取り組みを開始することができます。</p><p>弊社では、以前より <a href="https://www.microsoft.com/ja-jp/security/business/identity-access/azure-active-directory-mfa-multi-factor-authentication?rtc=1">多要素認証 (MFA) の有効化</a> を推奨してきました。実際のところ、今年に入ってから、セキュリティの既定値群を自ら有効化していないお客様のテナントにおいて、<a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/raising-the-baseline-security-for-all-organizations-in-the-world/ba-p/3299048">セキュリティ既定値群の有効化</a> を実施しました。MFA の利用が増えるにつれて、<a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/all-your-creds-are-belong-to-us/ba-p/855124">MFA に対する攻撃</a> も多くなっています。今でも、ID 攻撃への攻撃として最も多いのはパスワード攻撃であるため、MFA の有効化を強く推奨します。しかし、MFA に対する攻撃も増えているため、それにも対応できる MFA の方法で主要なリソースを保護することが重要になっています。</p><p>最良の選択は、<strong>フィッシング耐性のある MFA</strong> を使用することです。これらの強力な認証方法は、ユーザーが意図せず攻撃者に自身の資格情報を渡してしまったり、ソーシャル エンジニアリングを通じて認証要求を承認するようなフィッシング攻撃に対して有効です。Azure AD では、<strong>証明書ベースの認証</strong> (CBA: Certificate-based authentication) の一般提供に伴い、<strong>Windows Hello for Business</strong>、<strong>FIDO2 セキュリティ キー</strong>、および <strong>CBA</strong> の 3 つの選択肢からフィッシング耐性のある認証方法を選択できるようになりました。 これを踏まえて、ユーザーを保護するための次のステップは、条件付きアクセスの認証強度を使用し、重要なユース ケースで、これらの認証方法を要求することです。  </p><p>認証強度の機能の使用を開始するには、どのような条件でも構いませんのでまず条件付きアクセスポリシーを作成し、組み込みの認証強度のいずれかを要求するようにします。</p><ul><li><strong>多要素認証</strong></li><li><strong>パスワードレス多要素認証</strong></li><li><strong>フィッシング耐性のある多要素認証</strong>  </li></ul><p>今回のシナリオでは、アクセスを許可するためには、認証強度として、既定で用意されている「フィッシング耐性のある MFA」を要求します。このポリシーの適用範囲に含まれるユーザーは、リソースにアクセスする前に、テナントで設定したフィッシング耐性のある認証方法を使用するよう要求されます。  </p><p><img src="/blog/azure-active-directory/authentication-strength-choose-the-right-auth-method-for-your/01.png" alt="図 1: 既定で用意されている「認証強度」を使用した条件付きアクセスポリシーの作成"></p><p>既定で用意されている認証強度を利用することで、必要な認証方法を迅速に強制することができます。本機能のプライベート プレビュー期間中、ある米国の大手政府機関に対し、AD FS (Active Directory Federation Services) からの移行を支援することができました。この機関は、条件付きアクセス ポリシーの <strong>フィッシング耐性のある MFA</strong> を用いることで、認証強度として CBA の使用を強制できたため、AD FS は不要となりました。</p><p><img src="/blog/azure-active-directory/authentication-strength-choose-the-right-auth-method-for-your/02.png" alt="図 2: テナントにおける認証強度の管理"></p><p>既定で用意されている認証強度を確認した後、別の認証方法の組み合わせが必要となった場合は、独自のカスタム認証強度を作成し、要件を満たすための認証方法を選択することができます。AAGUIDs (Authenticator Attestation GUIDs) を使用して、特定の FIDO2 キーを要求することで、さらにアクセスを制限することも可能です。</p><p><img src="/blog/azure-active-directory/authentication-strength-choose-the-right-auth-method-for-your/03.png" alt="図 3: FIDO2 の制限を含むカスタム認証強度の作成"></p><p>お客様にパスワードレスの導入を支援する InSpark のプリンシパル コンサルタント Pim Jacobs 氏は、認証強度を利用して <strong>パスワードレス MFA</strong> を要求し、次のようの述べています。  </p><blockquote><p>Azure AD 認証強度の機能のリリースにより、ついに我々自身と我々がサポートするお客様に対してパスワードの使用を禁止することができるようになりました。パスワードレスに関するワークショップで最も多く聞かれたフィードバックは「でも、まだパスワードでサインインできるんですよね？」でした。認証強度の機能あれば、パスワードでのサインインもブロックできるんです！</p></blockquote><h2 id="外部-ID-に対する認証強度"><a href="#外部-ID-に対する認証強度" class="headerlink" title="外部 ID に対する認証強度"></a>外部 ID に対する認証強度</h2><p>条件付きアクセスの <strong>認証強度ポリシー</strong> を使用することで、Microsoft クラウド全体でビジネス パートナー (B2B) のゲストがリソースにアクセスする際に、特定の認証方法を使用するよう要求できるようになりました。これにより、管理者は <a href="https://learn.microsoft.com/ja-jp/azure/active-directory/external-identities/cross-tenant-access-settings-b2b-collaboration?source=recommendations#to-change-inbound-trust-settings-for-mfa-and-device-claims">クロス テナントのアクセスポリシー</a> を使用して、外部ユーザーがホームテナントで実行する MFA を信頼し、制御を強化することができます。</p><p>Glueckkanja-gab A G のクラウド アーキテクトであり、Microsoft Most Valuable Professional (MVP) でもある Fabian Bader 氏は、外部 ID に認証強度を利用し、以下のように述べています。 </p><blockquote><p>認証強度は、弊社にとって画期的な機能です。管理者アカウントと機密性の高いアプリケーションに対して FIDO2 セキュリティ キーの使用を強制し、社内の全ユーザーに使用させたい MFA の方法を正確に定義できるようになりました。更に、外部 ID においては、クロステナントのアクセス設定を使用して、安全に MFA を信頼しつつ、認証強度を完全に制御することができています。</p></blockquote><p>認証強度の詳細については、以下の資料をご参照ください。</p><ul><li>概要: <a href="https://aka.ms/authstrengthdocs">https://aka.ms/authstrengthdocs</a></li><li>API: <a href="https://aka.ms/authstrengthAPIdocs">https://aka.ms/authstrengthAPIdocs </a></li><li>外部 ID: <a href="https://aka.ms/authStrengthExternalUserdocs">https://aka.ms/authStrengthExternalUserdocs  </a></li></ul><h2 id="今後の予定"><a href="#今後の予定" class="headerlink" title="今後の予定"></a>今後の予定</h2><p>今後、数週間のうちに、認証方法のポリシーに新しい制御方法を追加し、Azure AD で利用可能な認証方法を一箇所で簡単に管理できるようにする予定です。このアップデートにより、認証方式をよりきめ細やかに管理することが可能になります。たとえば、認証方法を全ユーザーでオン/オフにするのではなく、認証方法のスコープとして特定のグループを指定することができるようになります。これにより、すべてのシナリオで、SMS のような安全性の低い認証方法の使用を管理し、認証強度を使用してシナリオ固有の要件に対応することが可能になります。これらを組み合わせることで、パスワードレスかつフィッシング耐性のある未来へ踏み出すために必要な制御を行えるようになります。  </p><p>ぜひ皆様にもお試しいただきたく思います。フィードバックは <a href="mailto:&#x61;&#x75;&#116;&#x68;&#115;&#x74;&#x72;&#101;&#x6e;&#103;&#x74;&#104;&#102;&#x65;&#x65;&#100;&#x62;&#97;&#x63;&#107;&#64;&#109;&#x69;&#99;&#114;&#x6f;&#x73;&#x6f;&#x66;&#x74;&#46;&#99;&#x6f;&#109;">&#x61;&#x75;&#116;&#x68;&#115;&#x74;&#x72;&#101;&#x6e;&#103;&#x74;&#104;&#102;&#x65;&#x65;&#100;&#x62;&#97;&#x63;&#107;&#64;&#109;&#x69;&#99;&#114;&#x6f;&#x73;&#x6f;&#x66;&#x74;&#46;&#99;&#x6f;&#109;</a>、Azure フォーラム、または Twitter で <a href="https://twitter.com/azuread">@AzureAD</a> をタグ付けして、意見をお聞かせください。</p><p>Inbar and Namrata</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure Identity サポート チームの 竜 です。&lt;/p&gt;
&lt;p&gt;本記事は、2022 年 10 月 19 日に米国の Azure Active Directory Identity Blog で公開された &lt;a href=&quot;https://techco</summary>
      
    
    
    
    
    <category term="Azure AD" scheme="https://jpazureid.github.io/blog/tags/Azure-AD/"/>
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
  </entry>
  
  <entry>
    <title>CSP プログラムにおけるパートナーセンターから顧客テナントにアクセスする際の条件付きアクセス ポリシーについて - 「外部ユーザーの種類の指定」による解決方法</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/new-capolicy-for-csp-account/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/new-capolicy-for-csp-account/</id>
    <published>2022-10-30T15:00:00.000Z</published>
    <updated>2022-11-30T11:33:00.954Z</updated>
    
    <content type="html"><![CDATA[<div class="alert is-info"><p class="alert-title">Note</p><p>本記事内では、顧客テナントに対して代理管理者権限を持つ、CSP パートナー テナントのアカウントを、「CSP アカウント」と記載します。</p></div><p>こんにちは。Azure &amp; Identity サポート チームの栗井です。</p><p>今年 2022 年の 7 月に下記ブログ記事を公開していますが、このブログ記事のリンクをエンドの顧客に案内して問題が解決できた、等のとても嬉しいフィードバックをいただいています。</p><ul><li><a href="https://jpazureid.github.io/blog/azure-active-directory/capolicy-for-csp-account/">CSP プログラムにおけるパートナーセンターから顧客テナントにアクセスする際の条件付きアクセス ポリシーについて</a></li></ul><p>このブログ記事の趣旨は「顧客テナントで作成した条件付きアクセス ポリシーが、意図せず CSP パートナーのアカウントによるアクセスを阻害してしまう」という問題に対して、ポリシーの構成を工夫することでいかに回避するか ? という方法をご提案することでした。</p><p>ここで朗報です ! このたびプレビュー機能として公開された「外部ユーザーの種類の指定 (仮称)」では、 CSP アカウントを条件付きアクセス ポリシーの対象・対象外として指定するためのオプションが登場しました。このオプションは「CSP アカウント “のみ” をポリシーの対象外にしたい」というご要望に対して過不足のない解決方法であり、かつ、設定方法はとても簡単です。</p><p>おかげさまで前述のブログ記事は、公開からほんの 3 ヶ月過ぎであるにもかかわらず、その役目を引退してもらうこととなりそうです (気合いを入れて執筆した自信作なのですが)。</p><h2 id="前提-条件付きアクセス-ポリシーが-CSP-アカウントをブロックしてしまう問題について"><a href="#前提-条件付きアクセス-ポリシーが-CSP-アカウントをブロックしてしまう問題について" class="headerlink" title="前提 : 条件付きアクセス ポリシーが CSP アカウントをブロックしてしまう問題について"></a>前提 : 条件付きアクセス ポリシーが CSP アカウントをブロックしてしまう問題について</h2><p>詳細については、<a href="https://jpazureid.github.io/blog/azure-active-directory/capolicy-for-csp-account/">前述のブログ記事</a>を参照ください。本記事では概要のみご紹介します。</p><p>CSP パートナー テナントに所属するアカウントは、代理管理者権限を持つ場合、パートナー センター (<a href="https://partner.microsoft.com/">https://partner.microsoft.com</a>) 経由で、リセラー関係を結ぶ顧客のテナントに対しての特権アクセス (グローバル管理者相当) が可能です。</p><p>顧客テナントで有効化されている条件付きアクセス ポリシーにおいて、割り当て対象として “すべてのユーザー” もしくは “すべてのゲスト ユーザー” が選択されている場合、CSP アカウントによるアクセスに対してもポリシーが適用されます。</p><p>この動作が原因による「CSP アカウントによる顧客テナントへのアクセスが、意図せずブロックされてしまう」というご相談を、これまで多くの CSP パートナーから頂いていました。</p><h2 id="解決策-外部ユーザーの種類の指定による、CSP-アカウントに対してのポリシー適用を回避"><a href="#解決策-外部ユーザーの種類の指定による、CSP-アカウントに対してのポリシー適用を回避" class="headerlink" title="解決策 : 外部ユーザーの種類の指定による、CSP アカウントに対してのポリシー適用を回避"></a>解決策 : 外部ユーザーの種類の指定による、CSP アカウントに対してのポリシー適用を回避</h2><h3 id="新機能-外部ユーザーの種類の指定"><a href="#新機能-外部ユーザーの種類の指定" class="headerlink" title="新機能 : 外部ユーザーの種類の指定"></a>新機能 : 外部ユーザーの種類の指定</h3><p>現在、条件付きアクセス ポリシーのユーザー割り当て設定画面をご覧いただくと、”ゲストまたは外部ユーザー” 項目の真下に、下記の選択肢が表示されます。</p><p><img src="/blog/azure-active-directory/new-capolicy-for-csp-account/externalusers.png">  </p><p>上記はいずれも、ゲスト・外部ユーザーの種類を示します。これまでは “ゲストまたは外部ユーザー” という選択肢によって一括りにされていたのですが、より詳細な種類を指定したポリシーの構成が可能になりました。</p><p>それぞれの選択肢の説明については、<a href="https://learn.microsoft.com/en-us/azure/active-directory/external-identities/authentication-conditional-access#assigning-conditional-access-policies-to-external-user-types-preview">公開情報の記載 (現在英語版のみ)</a> をご参照ください。</p><h3 id="“サービス-プロバイダー-ユーザー-プレビュー-”-の選択による-CSP-アカウントの指定"><a href="#“サービス-プロバイダー-ユーザー-プレビュー-”-の選択による-CSP-アカウントの指定" class="headerlink" title="“サービス プロバイダー ユーザー (プレビュー)” の選択による CSP アカウントの指定"></a>“サービス プロバイダー ユーザー (プレビュー)” の選択による CSP アカウントの指定</h3><p><strong>上記 6 つの選択肢のうち、”サービス プロバイダー ユーザー (プレビュー)” は、CSP アカウントによるアクセスを示します。</strong><br>この選択肢を利用することで、任意の条件付きアクセス ポリシーにおいて、CSP アカウントによるアクセスを割り当て対象外として明示的に指定することができます。</p><ol><li><p>顧客テナントにおいて、該当の条件付きアクセス ポリシーの設定画面を開きます。</p></li><li><p>[対象] &gt; [ユーザーとグループ] を開きます。</p></li><li><p>[対象外] タブを開き、下記のように構成します。</p><ul><li>“ゲストまたは外部ユーザー” にチェックマークを入れます。</li><li>“サービス プロバイダー ユーザー” にチェックマークを入れます。<br><img src="/blog/azure-active-directory/new-capolicy-for-csp-account/exclude-serviceproviders.png">  </li></ul></li><li><p>ポリシーを保存します。</p></li></ol><p>手順はたったのこれだけです。</p><p>2022 年 10 月末時点で、外部ユーザーの種類の指定は、プレビューの機能です。<br>プレビュー期間の終了後は、<a href="https://jpazureid.github.io/blog/azure-active-directory/capolicy-for-csp-account/">CSP プログラムにおけるパートナーセンターから顧客テナントにアクセスする際の条件付きアクセス ポリシーについて</a> の一部内容を、本記事に統合をすることも検討中です。</p><p>上記内容が少しでも皆様の参考となりますと幸いです。ご不明な点がございましたら、弊社サポートまでお気軽にお問い合わせください。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;alert is-info&quot;&gt;&lt;p class=&quot;alert-title&quot;&gt;Note&lt;/p&gt;&lt;p&gt;本記事内では、顧客テナントに対して代理管理者権限を持つ、CSP パートナー テナントのアカウントを、「CSP アカウント」と記載します。&lt;/p&gt;&lt;/div&gt;
</summary>
      
    
    
    
    
    <category term="Azure AD" scheme="https://jpazureid.github.io/blog/tags/Azure-AD/"/>
    
    <category term="Conditional Access" scheme="https://jpazureid.github.io/blog/tags/Conditional-Access/"/>
    
    <category term="条件付きアクセス" scheme="https://jpazureid.github.io/blog/tags/%E6%9D%A1%E4%BB%B6%E4%BB%98%E3%81%8D%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9/"/>
    
  </entry>
  
  <entry>
    <title>Entra Verified ID による Verified Coupons ( 認証クーポン ) のプレビュー</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/preview-for-verified-coupons-with-entra-verified-id/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/preview-for-verified-coupons-with-entra-verified-id/</id>
    <published>2022-10-29T00:00:00.000Z</published>
    <updated>2022-11-30T11:33:00.998Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure Identity サポート チームの 三輪 です。 </p><p>本記事は、2022 年 09 月 15 日に米国の Azure Active Directory Identity Blog で公開された<a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/preview-for-verified-coupons-with-entra-verified-id/ba-p/3627342">Preview for verified coupons with Entra Verified ID - Microsoft Tech Community</a> を意訳したものになります。ご不明点等ございましたらサポート チームまでお問い合わせください。</p><hr><p>こんにちは。 </p><p>Entra Verified ID が一般公開（GA）されてから 30 日余りが経ちました。この夏、弊社にインターンとして参加している Emilia Borisova が開発した最新のアップデート: Verified Coupons (使用例 : 限定イベントのチケットなど) をご紹介します。  </p><p>Ankur Patel<br>Head of Product, Microsoft Entra Verified ID </p><hr><p>Decentralized Identity チームでインターンをしている Emilia Borisova と申します。インターン期間中に私が設計および開発した機能がプレビューとして利用できるようになりましたのでお知らせしたいと思います。この機能は、1 日、1 ユーザー、1 資格情報ごとに、Verified ID の提示回数に制限を設定するための機能です。このようなアプローチは、旅行、医療、小売など様々なシーンで、割引やチケットの検証機能や、差別化された体験への扉を開くと考えています。  </p><h2 id="使用例：Verified-IDでコーヒー1杯を無料にする"><a href="#使用例：Verified-IDでコーヒー1杯を無料にする" class="headerlink" title="使用例：Verified IDでコーヒー1杯を無料にする"></a>使用例：Verified IDでコーヒー1杯を無料にする</h2><p><img src="/blog/azure-active-directory/preview-for-verified-coupons-with-entra-verified-id/blog1027_1.png"></p><p>学生の皆さんの一週間のスタートを応援するため、Woodgrove Cofee では、毎週月曜日にコーヒー 1 杯を無料で提供するようなシナリオが考えられます。レジで学生証を提示すると、毎週 1 杯のコーヒーが無料になります。Woodgrove Coffee は、追加でコーヒーを購入しようとする学生向けに、来週も来るように通知することができます。クーポンと同じように直感的に使えるこの機能は、Verified ID の定義を広げ、その無限の可能性をさらに際立たせています。 </p><h2 id="どのように機能するか"><a href="#どのように機能するか" class="headerlink" title="どのように機能するか"></a>どのように機能するか</h2><p>開発者は <a href="https://learn.microsoft.com/ja-jp/azure/active-directory/verifiable-credentials/get-started-request-api?tabs=http">Entra Verified ID APIs</a> を使用して、特定の資格情報を提示できる回数をプログラムによって指定することができます。下の画像は、1 回しか使用できない Verified ID に対して、フィールド “maxAllowedPresentationsCount (最大提示可能回数)” を 1 に設定したリクエストの例です。このように、1 つのプロパティ値を変更するだけで、シームレスに利用でき、提示回数制限の変更にも柔軟に対応することができます。また、顧客に最適なオファーを提供するため、アプリ側で提示回数の値をプログラム的に設定することができます。 </p><p><img src="/blog/azure-active-directory/preview-for-verified-coupons-with-entra-verified-id/blog1027_2.png"></p><p>この機能をお試しになりたい方は、<a href="https://forms.office.com/pages/responsepage.aspx?id=v4j5cvGGr0GRqy180BHbR-d_8gHWMzVMqsi_IPVB0vlUQllOVjNUTFZMRktNWFRYOFZGTEZKMTBBUy4u">こちら</a> から参加を申請ください。</p><h2 id="ご意見をお待ちしています"><a href="#ご意見をお待ちしています" class="headerlink" title="ご意見をお待ちしています"></a>ご意見をお待ちしています</h2><p>皆様からのご意見を楽しみにしております。これからも Twitter (@AzureAD) および <a href="https://feedback.azure.com/d365community/forum/22920db1-ad25-ec11-b6e6-000d3a4f0789">Azure Feedback Forum</a> よりフィードバックを頂けますと幸いです。Microsoft Entra Verified ID のドキュメントは <a href="https://learn.microsoft.com/ja-jp/azure/active-directory/verifiable-credentials/">こちら</a> です。</p><p><a href="https://www.linkedin.com/in/emilia-borisova/">Emilia Borisova</a><br>Software Engineering Intern<br>Microsoft Identity Division</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure Identity サポート チームの 三輪 です。 &lt;/p&gt;
&lt;p&gt;本記事は、2022 年 09 月 15 日に米国の Azure Active Directory Identity Blog で公開された&lt;a href=&quot;https://techc</summary>
      
    
    
    
    
    <category term="Azure AD" scheme="https://jpazureid.github.io/blog/tags/Azure-AD/"/>
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
  </entry>
  
  <entry>
    <title>Microsoft Authenticator の MFA 疲労攻撃対策</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/defend-your-users-from-mfa-fatigue-attacks/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/defend-your-users-from-mfa-fatigue-attacks/</id>
    <published>2022-10-18T15:00:00.000Z</published>
    <updated>2022-11-30T11:33:00.750Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは。Azure Identity サポート チームの栗井です。</p><p>Microsoft Identity Security のディレクター Alex Weinert によって、昨今脅威が指摘されている MFA 疲労攻撃と、対策としての Microsoft Authenticator の強化機能についての下記ブログ記事が公開されました。</p><p><a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/defend-your-users-from-mfa-fatigue-attacks/ba-p/2365677">Defend your users from MFA fatigue attacks - Microsoft Tech Community</a></p><p>上記記事に記載の一部内容と、私共日本側のサポート チーム宛にお客様からお問い合わせいただく内容等をふまえ、本記事を執筆しました。</p><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>昨今は多くのお客様の環境において、パスワード “のみ” による認証は十分にセキュアではないという認識が高まり、多要素認証 (MFA) などの導入による認証の強化が行われています。この動向に伴って、<strong>MFA の疲労攻撃 (別名、MFA スパム)</strong> の報告が増えています。</p><p><img src="/blog/azure-active-directory/defend-your-users-from-mfa-fatigue-attacks/Karen_Walker_1-1664319621345.png"></p><p>MFA 疲労攻撃とは、攻撃者が繰り返し何度も MFA 要求を発生させ、その要求を受け取ったユーザーが誤って MFA 要求を承認することを狙った手口です。</p><p>なぜこのような手口が通用するのかというと、音声通話への応答やプッシュ通知の承諾といった単純な MFA 承認方法では、ユーザーが一連の認証の流れ (コンテキスト) の中にいなくても、承諾を完了できてしまえるからです。突然、何の脈絡もなくスマートフォンにプッシュ通知が来たとして、ユーザーが承諾ボタンを押してしまうと攻撃者に侵入を許してしまうことになります。</p><p>例えば私の Microsoft Authenticator に、突然 MFA のプッシュ通知が発生したと仮定します。アプリには「サインインを承認しますか ? (拒否 / 承認)」という選択肢が表示されます。私はこのサインインに身に覚えがないので「拒否」を押下しますが、まだ IT リテラシーの高くない利用者や、たまたまそのタイミングでクラウド アプリにサインインを試行している人であれば、誤って「承認」を選択してしまう可能性もあります。また、攻撃者が繰り返しサインインを試行してプッシュ通知を行うと、ユーザーには複数の通知が届き、どれが自身の意図したプッシュ通知か判断できなくなります。MFA 疲労攻撃は、このような「ユーザーの誤操作」を狙った攻撃です。</p><p>この攻撃が成り立つのは、一連の認証操作において、認証の流れ (コンテキスト) が考慮されていないためです。実際に画面の前でサインインをしていなくても、Microsoft Authenticator 上で「承認」を押すことが “できてしまう” という点が問題です。音声通話 MFA も仕組みは同様です (自身が認証操作をしているか否かにかかわらず、認証要求の電話に対して、シャープ “#” ボタンを押下してしまえば承認できてしまう)。</p><p>本記事ではこのような「MFA の誤承認」からユーザーを保護するための、Microsoft Authenticator における MFA 強化の機能についてご紹介します。</p><h2 id="1-「プッシュ通知に番号の一致が必要」機能によって-MFA-の誤承認発生を防止"><a href="#1-「プッシュ通知に番号の一致が必要」機能によって-MFA-の誤承認発生を防止" class="headerlink" title="1. 「プッシュ通知に番号の一致が必要」機能によって MFA の誤承認発生を防止"></a>1. 「プッシュ通知に番号の一致が必要」機能によって MFA の誤承認発生を防止</h2><p>Microsoft Authenticator の「プッシュ通知に番号の一致が必要」を有効化すると、MFA の際に、「サインイン画面に表示される 2 桁の数字を、Microsoft Authenticator の画面に入力する」という操作が要求されます。</p><p>仮にユーザーの手元の Microsoft Authenticator に、見知らぬ MFA 要求が通知された場合であっても、ユーザーはこれを許可することができません。なぜならユーザーは画面の前におらず、Microsoft Authenticator に入力するための正しい数字を知りようがないからです。この仕組みによって、ユーザーが MFA 要求を誤承認するリスクを大幅に抑えることができます。</p><p><img src="/blog/azure-active-directory/defend-your-users-from-mfa-fatigue-attacks/number-matching.png">  </p><p>「プッシュ通知に番号の一致が必要」の機能は、当ブログ公開時 (2022/10/19) 時点でプレビュー機能でしたが、現在は一般機能として公開済みです。</p><p><a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/advanced-microsoft-authenticator-security-features-are-now/ba-p/2365673">公開情報 : Advanced Microsoft Authenticator security features are now generally available!</a></p><p>本機能は 2023 年の 2 月末以降、すべてのユーザーに自動で有効化することを予定しています。</p><p>本機能は 2021 年 11 月にリリースされ、すでに 1 万近くの組織に導入されています。また「番号の一致」は、Microsoft Authenticator を利用したパスワードレス サインインの手段としてもご利用いただくことができます。</p><p><a href="https://learn.microsoft.com/ja-jp/azure/active-directory/authentication/how-to-mfa-number-match">公開情報: 多要素認証 (MFA) 通知で数値の一致を使用する方法 - 認証方法ポリシー</a></p><h2 id="2-ユーザーが不正アクセスを判断できるように、MFA-要求にサインイン情報を表示"><a href="#2-ユーザーが不正アクセスを判断できるように、MFA-要求にサインイン情報を表示" class="headerlink" title="2. ユーザーが不正アクセスを判断できるように、MFA 要求にサインイン情報を表示"></a>2. ユーザーが不正アクセスを判断できるように、MFA 要求にサインイン情報を表示</h2><p>「プッシュ通知とパスワードレス通知に地理的な場所を表示する」の機能を有効化すると、サインインの発生元の IP アドレスに基づいた位置情報が Microsoft Authenticator の画面に表示されます。また「プッシュ通知とパスワードレス通知にアプリケーション名を表示する」の機能を有効化すると、サインイン先のアプリケーションの名前も表示されます。</p><p>例えば、ユーザー自身が名古屋にいるのに、サインイン元の位置情報が「ブラジル / リオデジャネイロ」と表示された場合、ユーザーは「この MFA 要求はおかしいかも？」と、一瞬手を止めて不正アクセスを疑うきっかけになることが期待されます。</p><p><a href="https://learn.microsoft.com/ja-jp/azure/active-directory/authentication/how-to-mfa-additional-context">公開情報: Microsoft Authenticator 通知で追加のコンテキストを使用する方法 - 認証方法ポリシー</a></p><p>なお、上記の機能がすべて有効化の対象となっているユーザーでは、Authenticator 宛の MFA 要求は、下記画像のようになります。</p><ul><li>アクセス先のアプリケーションが表示されます。下記例では “App: Azure Portal” と表示されています。</li><li>アクセス元の位置情報が “Location : Tokyo Japan” と、地図と合わせて表示されます。</li><li>MFA 要求の承認のため、数字の入力が要求されます。</li></ul><p><img src="/blog/azure-active-directory/defend-your-users-from-mfa-fatigue-attacks/mfarequest.png">  </p><h2 id="3-Azure-AD-Identity-Protection-の機能もぜひご活用を"><a href="#3-Azure-AD-Identity-Protection-の機能もぜひご活用を" class="headerlink" title="3. Azure AD Identity Protection の機能もぜひご活用を"></a>3. Azure AD Identity Protection の機能もぜひご活用を</h2><p>上記の各種 Microsoft Authenticator の強化機能をすぐに導入することが難しい場合は、Azure AD Identity Protection の機能もぜひご活用ください。Azure AD Identity Protection の導入によって、リスクのあるサインイン パターンや侵害された可能性のあるユーザーが検知され、不正アクセスを防止することができます。</p><p>例えば攻撃者が、馴染みのない場所からのサインインを試み、MFA の実施に失敗した場合、攻撃対象のユーザーのアカウントは「ユーザー リスク有り」と判定されます。不正な MFA 要求を繰り返し発生させる攻撃者は、すでにユーザーのパスワードを把握しています。漏洩したパスワードを継続的に利用することは望ましくないので、まずはパスワードの変更が必要です。</p><p>管理者はユーザー リスクの検知を Azure ポータルから確認し、ユーザーにパスワード変更を要求することができます。パスワードをリセットすることで、攻撃者は古いパスワードを利用した攻撃ができなくなります。また、ユーザー リスクの評価値は自動で低減されます。</p><p>管理者によるリスクの確認およびパスワード変更の手間を省略したい場合、Azure AD Identity Protection の「ユーザー リスク ポリシー」を構成いただくことで、リスクのあるユーザーを自動でセルフサービス パスワード リセット (SSPR) に遷移させることもできます。</p><ul><li><a href="https://learn.microsoft.com/ja-jp/azure/active-directory/identity-protection/howto-identity-protection-configure-risk-policies">公開情報: リスク ポリシーを構成して有効にする - Azure Active Directory Identity Protection</a></li><li><a href="https://learn.microsoft.com/ja-jp/azure/active-directory/conditional-access/howto-conditional-access-policy-risk-user">公開情報: 条件付きアクセス - 危険なユーザーに対してパスワード変更を必須にする</a></li></ul><h2 id="強化された-Microsoft-Authenticator-の機能を試してみよう"><a href="#強化された-Microsoft-Authenticator-の機能を試してみよう" class="headerlink" title="強化された Microsoft Authenticator の機能を試してみよう"></a>強化された Microsoft Authenticator の機能を試してみよう</h2><p>以下では、Azure ポータルで強化された Microsoft Authenticator の機能を有効化 + 検証する手順をご紹介します。</p><ol><li><p>セキュリティ グループを作成</p><ul><li>管理者のアカウントで Azure ポータルにアクセスし、[Azure Active Directory] &gt; [グループ] から、新しいグループを作成します。グループの種類は “セキュリティ” を選択ください。</li><li>「数字の一致」機能を構成する対象のユーザーをグループのメンバーとして追加します。検証段階では、検証用ユーザーのみをグループに追加ください。<br>本説明内では “Number matching test” という表示名のセキュリティ グループを仮定します。</li></ul></li><li><p>Microsoft Authenticator の認証方法ポリシーを構成</p><ul><li><p>管理者のアカウントで Azure ポータルにアクセスし、下記に進みます。</p><p>  [Azure Active Directory] &gt; [セキュリティ] &gt; [認証方法] &gt; [ポリシー]</p></li><li><p>認証メソッド一覧から “Microsoft Authenticator” を選択します。[基本] タブの “有効にする” の現在の設定値が “いいえ” となっていることをご確認の上、以降の手順にお進みください。</p></li><li><p>[基本] タブの “有効にする” の設定値を “はい” にします。</p><p>  “ターゲット” では “ユーザーの選択” を選択し、”ユーザーとグループの追加” から “Number matching test” を選択します。</p></li><li><p>[構成] タブを開きます。</p></li><li><p>[プッシュ通知に番号の一致が必要] と [プッシュ通知とパスワードレス通知にアプリケーション名を表示する] と [プッシュ通知とパスワードレス通知に地理的な場所を表示する] それぞれの設定項目で、下記のように構成します。</p><ul><li>状態 : 有効</li><li>ターゲット - 含める : “Number matching test” グループを追加</li></ul></li></ul></li><li><p>該当のユーザーに対して MFA を有効化</p><p> 上記の Microsoft Authenticator の認証方法ポリシー設定は、MFA が要求された際のアプリ上での動作をカスタマイズする項目です。ユーザーに対しての MFA 要求の有効化は、別途構成する必要があります。MFA の有効化方法は複数ありますが、本記事では条件付きアクセス ポリシーによる有効化の手順を記載します。</p><ul><li><p> [Azure Active Directory] &gt; [セキュリティ] に進みます </p></li><li><p> [条件付きアクセス] &gt; [ポリシー] に進みます</p></li><li><p>[+ 新しいポリシー] を押下し、以下の内容でポリシーを構成します</p><ul><li><p>[名前] : 任意のポリシーの名前をご入力ください</p></li><li><p>[割り当て] : </p><ul><li>[ユーザーまたはワークロード ID] : “Number matching test” グループを指定</li><li>[クラウド アプリまたは操作] : “すべてのクラウド アプリ” もしくは何らかの特定のアプリケーションを指定</li></ul></li><li><p>[アクセス制御] :</p><ul><li>[許可] : アクセス権の付与 – “多要素認証を要求する” を選択</li></ul></li></ul></li><li><p>[ポリシーの有効化] を [オン] にし、[保存] を押して設定を反映します</p></li></ul><p> 上記を設定後、 “Number matching test” に所属するユーザーによって何らかのアプリケーションにアクセスいただくことで、強化された Microsoft Authenticator の MFA 機能が動作することをご確認ください。設定にあたってのご不明点やご相談事項などございましたら、弊社サポート チームまでお問い合わせください。</p></li></ol><h2 id="Q-amp-A-随時追記予定"><a href="#Q-amp-A-随時追記予定" class="headerlink" title="Q &amp; A (随時追記予定)"></a>Q &amp; A (随時追記予定)</h2><p>Q1. Microsoft Authenticator のアプリ上で発生したサインインで「数字の一致」による MFA を実施する際に、数字の表示画面 / 数字の入力プロンプト が重なってしまい、サインインの完了ができません。</p><p>A1. 一番下の “番号が表示されません” を選択ください。3 秒間のみ数字の入力プロンプトが非表示となり、MFA 認証用の数字が表示されます。<br><img src="/blog/azure-active-directory/defend-your-users-from-mfa-fatigue-attacks/cannotseethenumber.png">  </p><h2 id="おわりに"><a href="#おわりに" class="headerlink" title="おわりに"></a>おわりに</h2><p>Microsoft Authenticator の優れた点の 1 つは、今後もさらなる進化および多様化が懸念されるセキュリティ攻撃に対して、いち早く対応できるよう継続的に開発および投資を行っていることです。 Microsoft Authenticator が企業にとって、最も安全かつ便利で費用対効果の高い認証方法であり続けるために、今後もさらに多くの機能強化を続けて参ります。</p><p>各種 MFA 強化の機能の一般公開 (GA) にあたって、利用者の皆様の生のご意見やフィードバックはとても重要です。MFA 疲労攻撃に関する英語記事 (後述)、もしくは <a href="https://feedback.azure.com/d365community/forum/22920db1-ad25-ec11-b6e6-000d3a4f0789">Azure フィードバック サイト</a> まで、ぜひご意見をお寄せいただけますと幸いです。</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>Microsoft Tech Community の記事は、新 -&gt; 古 の順で記載しております。</p><ul><li><a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/advanced-microsoft-authenticator-security-features-are-now/ba-p/2365673">(再掲) Advanced Microsoft Authenticator security features are now generally available! - Microsoft Tech Community | Published Oct 25 2022</a></li><li><a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/defend-your-users-from-mfa-fatigue-attacks/ba-p/2365677">(再掲) Defend your users from MFA fatigue attacks - Microsoft Tech Community | Published Sep 28 2022</a></li><li><a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/new-microsoft-authenticator-security-features-are-now-available/ba-p/2464386">New Microsoft Authenticator security features are now available! - Microsoft Tech Community | Published Nov 18 2021</a></li></ul><ul><li><a href="https://feedback.azure.com/d365community/forum/22920db1-ad25-ec11-b6e6-000d3a4f0789">Microsoft Azure  |  Share your Ideas - Azure Active Directory</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは。Azure Identity サポート チームの栗井です。&lt;/p&gt;
&lt;p&gt;Microsoft Identity Security のディレクター Alex Weinert によって、昨今脅威が指摘されている MFA 疲労攻撃と、対策としての Microsoft </summary>
      
    
    
    
    
    <category term="Azure AD" scheme="https://jpazureid.github.io/blog/tags/Azure-AD/"/>
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
  </entry>
  
  <entry>
    <title>Azure AD (Microsoft Entra) の新しいリージョンの発表 - 日本</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/Announcing-a-New-Azure-AD-part-of-Microsoft-Entra-region-in-Japan/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/Announcing-a-New-Azure-AD-part-of-Microsoft-Entra-region-in-Japan/</id>
    <published>2022-10-17T00:00:00.000Z</published>
    <updated>2022-11-30T11:33:00.554Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure Identity サポート チームの 竜 です。</p><p>本記事は、2022 年 10 月 13 日に米国の Azure Active Directory Identity Blog で公開された <a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/announcing-a-new-azure-ad-part-of-microsoft-entra-region-in/ba-p/2967453">Announcing a New Azure AD, part of Microsoft Entra, region in Japan</a> を意訳したものになります。</p><hr><p>公共機関や民間企業がワークフローの改善、非効率性の低減、従業員の能力向上を目的としてクラウドの利用を拡大し続ける中、データの所在地やプライバシー、コンプライアンス、およびセキュリティに対する懸念が高まっています。Microsoft は、国や地域に特化した 50 以上の一連のサービスを通じて、すべての組織において、これらの懸念に対応することに取り組んでいます。  </p><p>2022 年 10 月より日本の Microsoft のお客様が、日本国内の弊社基盤を通じて Microsoft Entra の一部である Azure Active Directory (Azure AD) の機能にアクセスできるようになったことを本日発表します。これにより、日本に拠点を置くお客様の Azure AD のデータを他のグローバル リージョンに保持していた仕組みが置き換わります。Azure AD は、月間アクティブ ユーザー数 5 億人以上、50 万人以上の顧客数、1 日の認証回数は 450 億回を誇り、世界中の組織や個人の主要なセキュリティおよびプライバシーの要件に対応することで、より多くのことを成し遂げるよう可能にします。ゼロ トラストのフレームワークを採用した Microsoft の ID およびアクセス管理ソリューションは、企業や個人が目標を達成するための安全なプラットフォームを提供します。 </p><p>2022 年 10 月より、認証、コア ディレクトリ ストレージ、プレミアム機能ストレージが日本から利用できるようになり、すべての新規顧客が Azure AD のデータを日本に保存できるようになります。日本から発信される認証リクエストも、日本で処理され扱われることになります (詳細は、<a href="https://learn.microsoft.com/ja-jp/azure/active-directory/fundamentals/active-directory-data-storage-japan">Azure Active Directory での日本の顧客のための顧客データ ストレージ</a> をご覧ください)。これは、ヘルスケア、金融サービス、政府機関などの業界において特に重要であり、各国の規制要件を支援すると同時に、もう一段階の信頼性と柔軟性を提供することになります。</p><p>既存のお客様については、引き続き Azure AD のデータを現在の場所に保存します。今後、その Azure AD データを日本に移行するための計画を発表する予定です。日本での Azure AD データの保管は、現在、追加料金なしで提供されます。 </p><p>今回の ID における日本リージョンの開設により、Microsoft は、拡大する顧客ベースの進化するプライバシー、障害回復力、および地域固有のデータ要件に対応するためのコミットメントを強化することになります。Microsoft は、既に 60 以上のデータセンター地域を発表しており、140 ヶ国以上で Azure を利用できるなど、他のクラウド プロバイダーよりも多くのリージョンを有しています。Azure は 100 以上の法令に対応し、どのクラウド サービス提供者よりも包括的なコンプライアンス対応を提供いたします。</p><p>今回のアップデートにより、日本のお客様のデジタル トランスフォーメーションのさらなる加速に貢献できることを期待しています。弊社は、信頼できるクラウドの原則とコンプライアンスにおけるリーダーシップに引き続き取り組み、世界中のすべてのお客様に、ご自身のアプリケーションのコンプライアンスを達成するために必要なセキュリティ基盤を提供いたします。  </p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure Identity サポート チームの 竜 です。&lt;/p&gt;
&lt;p&gt;本記事は、2022 年 10 月 13 日に米国の Azure Active Directory Identity Blog で公開された &lt;a href=&quot;https://techco</summary>
      
    
    
    
    
    <category term="Azure AD" scheme="https://jpazureid.github.io/blog/tags/Azure-AD/"/>
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
  </entry>
  
  <entry>
    <title>MSOnline / AzureAD PowerShell から Graph PowerShell SDK への移行について 1_概要</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/azuread-module-retirement1/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/azuread-module-retirement1/</id>
    <published>2022-10-03T00:00:00.000Z</published>
    <updated>2022-11-30T11:33:00.658Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、 Azure ID チームの小出です。</p><p>今回は、MSOnline (以降 MSOL) および Azure AD PowerShell の廃止スケジュールについてご案内します。</p><p>以前より、下記の弊社ブログにて、本内容については案内を行っていますが、情報のアップデートにより、複数の記事に分かれてしまうなどわかりにくくなっている状況でした。</p><p>そこで今回は、現時点での最新情報と実施いただきたいこと、関連記事の URL などをまとめてご紹介します。</p><h2 id="最新情報-2022-10-3-最終更新-についてのまとめ"><a href="#最新情報-2022-10-3-最終更新-についてのまとめ" class="headerlink" title="最新情報 (2022/10/3 最終更新) についてのまとめ"></a>最新情報 (2022/10/3 最終更新) についてのまとめ</h2><h3 id="MSOL-Azure-AD-PowerShell-のライセンス割り当て関連のコマンドについて"><a href="#MSOL-Azure-AD-PowerShell-のライセンス割り当て関連のコマンドについて" class="headerlink" title="MSOL / Azure AD PowerShell のライセンス割り当て関連のコマンドについて"></a>MSOL / Azure AD PowerShell のライセンス割り当て関連のコマンドについて</h3><p>ライセンス割り当てに関する MSOL / Azure AD PowerShell コマンド（Set-MsolUserLicense や Set-AzureADUserLicense など）は、 2023/3/31 に利用できなくなる見込みです。</p><ul><li>廃止日を 2022/6/30 や 2022/8/26 などと記載している情報もありますが、廃止日は 2023/3/31 に延期されました。</li><li>現時点での予定では 2023/3/31 を過ぎると MSOL / Azure AD のライセンス割り当ての PowerShell コマンドは使用できなくなる見込みです。2023/4/1 以降も引き続き動作はする可能性はありますが、それ以降はいつ使えなくなってもおかしくない状況になる見込みです。</li><li>2022/11/1 以降に新しく作成するテナントでは、MSOL / Azure AD PowerShell コマンドによるライセンス割り当て関連のコマンドが、テナント作成時点から正常に動作しない見込みです。</li></ul><p>対象となるコマンドの詳細は、<a href="https://jpazureid.github.io/blog/azure-active-directory/migrate-your-apps-to-access-the-license-managements/">こちらの記事</a>の下記該当箇所をご確認ください。</p><table>  <thead>    <tr>      <th>既存のコマンド (2023 年 3 月 31 日以降に利用できなくなる操作)</th>      <th>今後推奨される Microsoft Graph PowerShell および API</th>    </tr>  </thead>  <tbody>    <tr>      <td><a href ="https://docs.microsoft.com/ja-jp/powershell/module/msonline/?view=azureadps-1.0" target="_blank">MSOnline Powershell</a>      <br/>・Set-MsolUserLicense      <br/>・New-MsolUser (-LicenseAssignment か -LicenseOptions を指定)</td>      <td rowspan="2">Microsoft Graph PowerShell      <br/>・<a href="https://docs.microsoft.com/ja-jp/powershell/module/microsoft.graph.users.actions/set-mguserlicense?view=graph-powershell-1.0" target="_blank">Set-MgUserLicense</a>      </td>    </tr>    <tr>      <td><a href="https://docs.microsoft.com/en-us/powershell/azure/active-directory/overview?view=azureadps-2.0">Azure AD Powershell</a>      <br/>・Set-AzureADUserLicense      </td>    </tr>    <tr>      <td>Azure AD Graph API (graph.windows.net)      <br/>・assignLicense</td>      <td>Microsoft Graph API      <br/>・<a href="https://docs.microsoft.com/ja-jp/graph/api/user-assignlicense?view=graph-rest-1.0&tabs=http">assignLicense</a></td>    </tr>      </tbody></table><h3 id="MSOL-Azure-AD-PowerShell-のライセンス割り当て関連「以外」のコマンドについて"><a href="#MSOL-Azure-AD-PowerShell-のライセンス割り当て関連「以外」のコマンドについて" class="headerlink" title="MSOL / Azure AD PowerShell のライセンス割り当て関連「以外」のコマンドについて"></a>MSOL / Azure AD PowerShell のライセンス割り当て関連「以外」のコマンドについて</h3><p>ライセンス割り当てに関するコマンド以外（例: Connect-MsolService や Get-AzureADUser など）は、2023 年 6 月 30 日 に廃止となる予定です。(2022/10/3 更新）</p><ul><li>廃止予定日までは、これまでと同様にコマンドを利用可能です。</li><li>廃止後は、動作の保証はされませんが、動作し続けるコマンド・動作しなくなるコマンドの双方がある見込みです。実際に動作しなくなる具体的なコマンドの情報などはありません。</li></ul><h2 id="いまできること・確認すること"><a href="#いまできること・確認すること" class="headerlink" title="いまできること・確認すること"></a>いまできること・確認すること</h2><ol><li>現在利用しているコマンド・スクリプトなどを確認する。<a href="https://jpazureid.github.io/blog/azure-active-directory/how-to-determine-depreacated-azuread-msol/">こちらの記事</a>をもとに、MSOL や Azure AD の PowerShell コマンドを利用していないか確認する</li><li>MSOL や Azure AD の PowerShell コマンドを利用している場合、<a href="https://docs.microsoft.com/en-us/powershell/microsoftgraph/azuread-msoline-cmdlet-map?view=graph-powershell-1.0">こちらの公開情報</a> にて対応するコマンドを探す</li><li>既存のスクリプトの書き換え、コマンドの置き換えを実施し、新しいモジュールで動作するよう修正する</li><li>利用中の MSOL や Azure AD コマンドの置き換えとなるものが見つからない、想定したように動作しない場合は、お問い合わせください</li></ol><h2 id="本廃止に関する弊社ブログ記事リンク"><a href="#本廃止に関する弊社ブログ記事リンク" class="headerlink" title="本廃止に関する弊社ブログ記事リンク"></a>本廃止に関する弊社ブログ記事リンク</h2><h3 id="アップデート情報（英語記事翻訳）"><a href="#アップデート情報（英語記事翻訳）" class="headerlink" title="アップデート情報（英語記事翻訳）"></a>アップデート情報（英語記事翻訳）</h3><p><a href="https://jpazureid.github.io/blog/azure-active-directory/migrate-your-apps-to-access-the-license-managements/">Azure AD Graph および MSOnline での従来のライセンスの割り当て方法が廃止され Microsoft Graph によるライセンス管理に変わります</a><br><a href="https://jpazureid.github.io/blog/azure-active-directory/azure-ad-change-management-simplified/">Azure AD の変更管理を簡素化します</a><br><a href="https://jpazureid.github.io/blog/azure-active-directory/Microsoft-Entra-change-announcements-September-2022-train/#Azure-AD%E3%80%81Azure-AD-Preview%E3%80%81MSOnline-PowerShell-%E3%81%AE%E5%BB%83%E6%AD%A2%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6">Microsoft Entra の変更管理のアナウンス (2022 年 9 月の状況)</a></p><h3 id="既存モジュール使用状況について"><a href="#既存モジュール使用状況について" class="headerlink" title="既存モジュール使用状況について"></a>既存モジュール使用状況について</h3><p><a href="https://jpazureid.github.io/blog/azure-active-directory/how-to-determine-depreacated-azuread-msol/">Azure AD Graph / MSOnline PowerShell モジュール利用状況の調べ方</a></p><h3 id="新しいモジュールへの移行導入"><a href="#新しいモジュールへの移行導入" class="headerlink" title="新しいモジュールへの移行導入"></a>新しいモジュールへの移行導入</h3><p><a href="https://jpazureid.github.io/blog/azure-active-directory/azuread-module-retirement2/">MSOnline / AzureAD PowerShell から Graph PowerShell SDK への移行について 2_移行導入編</a><br><a href="https://jpazureid.github.io/blog/azure-active-directory/azuread-module-retirement3/">MSOnline / AzureAD PowerShell から Graph PowerShell SDK への移行について 3_インストール・接続編</a></p><h3 id="新しいモジュールの使用方法（ライセンスに関する操作について）"><a href="#新しいモジュールの使用方法（ライセンスに関する操作について）" class="headerlink" title="新しいモジュールの使用方法（ライセンスに関する操作について）"></a>新しいモジュールの使用方法（ライセンスに関する操作について）</h3><p><a href="https://jpazureid.github.io/blog/azure-active-directory/operating-license-with-microsoft-graph/">Microsoft Graph PowerShell SDK を使用したライセンス管理操作の紹介</a></p><h3 id="新しいモジュールの使用方法（ライセンス以外の操作について）"><a href="#新しいモジュールの使用方法（ライセンス以外の操作について）" class="headerlink" title="新しいモジュールの使用方法（ライセンス以外の操作について）"></a>新しいモジュールの使用方法（ライセンス以外の操作について）</h3><p>今後アップデート次第更新します。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、 Azure ID チームの小出です。&lt;/p&gt;
&lt;p&gt;今回は、MSOnline (以降 MSOL) および Azure AD PowerShell の廃止スケジュールについてご案内します。&lt;/p&gt;
&lt;p&gt;以前より、下記の弊社ブログにて、本内容については案内を行っ</summary>
      
    
    
    
    
    <category term="Azure AD" scheme="https://jpazureid.github.io/blog/tags/Azure-AD/"/>
    
    <category term="PowerShell" scheme="https://jpazureid.github.io/blog/tags/PowerShell/"/>
    
  </entry>
  
  <entry>
    <title>Microsoft Entra の変更管理のアナウンス (2022 年 9 月の状況)</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/Microsoft-Entra-change-announcements-September-2022-train/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/Microsoft-Entra-change-announcements-September-2022-train/</id>
    <published>2022-10-02T00:00:00.000Z</published>
    <updated>2022-11-30T11:33:00.570Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure Identity サポート チームの 竜 です。</p><p>本記事は、2022 年 09 月 30 日に米国の Azure Active Directory Identity Blog で公開された <a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/microsoft-entra-change-announcements-september-2022-train/ba-p/2967454">Microsoft Entra change announcements – September 2022 train</a> を意訳したものになります。</p><hr><p>皆さん、こんにちは。</p><p>2022 年 3 月に、お客様がより展開の計画を立てやすくするよう、<a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/azure-ad-change-management-simplified/ba-p/2967456">簡素化された変更管理プロセスを発表</a> し、6 月には Microsoft の ID とアクセスの機能をすべて包含する新しい製品群として <a href="https://www.microsoft.com/security/blog/2022/05/31/secure-access-for-a-connected-worldmeet-microsoft-entra/">Microsoft Entra を発表</a> しました。</p><p>前回の発表以降、弊社では Azure Active Directory (Azure AD) の継続的な改善、<a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/public-preview-enhanced-quot-my-apps-quot-experience/ba-p/3118022">さらにユーザー体験が向上した My Apps</a> のパブリック プレビューのリリース、そして <a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/microsoft-entra-permissions-management-is-now-generally/ba-p/3290630">Microsoft Entra Permissions Management</a> や <a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/microsoft-entra-verified-id-now-generally-available/ba-p/3295506">Microsoft Entra Verified ID</a> の一般提供開始などを行ってきました。</p><p>ID とアクセス管理の製品群の拡大に合わせて、Microsoft Entra のすべての機能を含めるよう、変更管理のプロセスもその範囲を広げてまいりました。本日は機能変更および既存の動作に影響を与える変更について、9 月の状況をご紹介します。</p><p>これらの変更は、四半期ごとに、ブログ、リリース ノート、そして電子メールにてお客様にお伝えしています。また、お客様が、<a href="https://entra.microsoft.com/#home">Entra ポータル</a> 内でライフ サイクルの変更 (廃止、提供停止、および既存の動作に影響を与える変更) により簡単に対応できるよう継続して取り組んでいます。 </p><p>以下に、「年 2 回の製品の廃止」および「年 4 回の機能変更および既存の動作に影響を与える変更」の連絡予定について情報をまとめました。</p><table><thead><tr><th><strong>カテゴリ</strong></th><th><strong>定義</strong></th><th><strong>連絡の予定</strong></th></tr></thead><tbody><tr><td>製品の廃止の連絡</td><td><strong>機能、性能、または製品を特定の期間後に廃止</strong>することを指します。これは、一般的に、新たなお客様に対してサービスや機能の提供を停止し、廃止予定の機能に対して技術的面での投資が削減されることを意味します。最終的には、EOL (end-of-life) の状態に至り、すべてのお客様に対してサービスや機能の提供が停止されます。</td><td>年に 2 回 (3 月、9 月)</td></tr><tr><td>製品の機能変更および既存の動作に影響を与える変更のお知らせ</td><td><strong>既存の動作に影響を与える変更</strong>: 継続的な運用のためにお客様が何らかの操作や変更を行わない場合、既存のユーザーおよびパートナー体験に影響が生じると想定される変更です。<br><strong>機能の変更</strong>: 既存の ID の機能に対する変更であり、お客様側での作業は必要はありませんが、ユーザー体験に変化が生じます。多くは、UI/UX (ユーザー インターフェイスおよびユーザー体験) への変更です。<br><br>これらの変更は一般的に頻繁に発生するため、より頻繁に弊社からの通知が必要となります。</td><td>年に 4 回 (3 月、6 月、9 月、11 月)</td></tr></tbody></table><p>以下に、2022 年 9 月分として発表された機能変更の一覧をご紹介します。</p><h2 id="Azure-MFA-Server-について"><a href="#Azure-MFA-Server-について" class="headerlink" title="Azure MFA Server について"></a>Azure MFA Server について</h2><p>2024 年 9 月 30 日以降、Azure Multi-Factor Authentication (MFA) Server は、多要素認証 (MFA) のサービスを停止するため、MFA Server を利用した認証が失敗する状況となります。認証が中断なく処理され、サポートされた状態を維持するためには、最新の <a href="https://www.microsoft.com/en-us/download/details.aspx?id=55849">Azure MFA Server のアップデート</a> に含まれる MFA Server 移行ツールを使用して、<a href="https://learn.microsoft.com/ja-jp/azure/active-directory/authentication/how-to-migrate-mfa-server-to-azure-mfa-user-authentication">ユーザーの認証データをクラウド ベースの Azure MFA サービスに移行する</a> 必要があります。詳細は「<a href="https://learn.microsoft.com/ja-jp/azure/active-directory/authentication/how-to-migrate-mfa-server-to-azure-mfa">MFA Server から Azure AD Multi-Factor Authentication に移行する</a>」をご参照ください。</p><h2 id="Graph-サービス-エンドポイントでの-HTTP-2-の有効化について"><a href="#Graph-サービス-エンドポイントでの-HTTP-2-の有効化について" class="headerlink" title="Graph サービス エンドポイントでの HTTP/2 の有効化について"></a>Graph サービス エンドポイントでの HTTP/2 の有効化について</h2><p>2023 年 9 月 15 日より、Microsoft Graph のエンジニアリング チームは、Graph サービスのエンドポイントにおいて HTTP/2 のサポートを開始する予定です。既存の HTTP/1.1 バージョンのサポートに加えて、HTTP/2 のサポートが追加される予定です。Microsoft Graph のエンドポイントで HTTP/2 が有効になると、HTTP/2 をサポートするクライアントは、Microsoft Graph にリクエストを行う際に、このバージョンをネゴシエートするようになります。HTTP/2 の改善はパフォーマンスに焦点を当てたもので、遅延や帯域およびリソース消費 (参考: <a href="https://http2.github.io/">https://http2.github.io</a>) の低下に加え、多重化や並列化、バイナリ エンコーディングとヘッダー圧縮による効率化も含まれています。これらの利点により、Microsoft Graph クライアントとお客様に大きな価値をもたらすことが期待されます。また、HTTP/2 は HTTP/1.1 と完全に後方互換性があり、クライアント アプリケーションでコード変更は特に必要ないと期待されます。なお、稀な事例として、アプリケーションが Header キーの大文字と小文字を区別せずに比較する HTTP の仕様に準拠していない場合に、一部のクライアント アプリケーションで悪影響が発生する可能性があります。  </p><h2 id="Azure-AD-Graph-API-について"><a href="#Azure-AD-Graph-API-について" class="headerlink" title="Azure AD Graph API について"></a>Azure AD Graph API について</h2><p>Azure AD Graph は、<strong>2023 年 6 月 30 日</strong> まで <strong>継続して</strong> 機能する予定です。これは、当初の Azure AD Graph API の <a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/update-your-applications-to-use-microsoft-authentication-library/ba-p/1257363">廃止の発表</a> から 3 年後となります。Azure サービスにおける廃止の <a href="https://learn.microsoft.com/ja-jp/lifecycle/">ガイドライン</a> に基づき、2023 年 6 月 30 日以降は、事前通知なく Azure AD Graph の提供を停止する可能性があります。弊社では 2023 年 6 月 30 日以降に Azure AD Graph の提供を停止することとなりますが、すべてのお客様が移行を完了し、運用環境のアプリケーションが Azure AD Graph を利用しないようにしたいと考えています。新機能の開発は  <a href="https://learn.microsoft.com/ja-jp/graph/overview">Microsoft Graph</a> に対してのみ行われます。今後も Azure AD Graph のセキュリティ関連の修正は引き続きサポートしますが、Microsoft Graph への移行を推奨します。詳細は「<a href="https://learn.microsoft.com/ja-jp/graph/migrate-azure-ad-graph-overview">Azure AD Graph アプリをMicrosoft Graphに移行する</a>」を参照ください。</p><h2 id="Azure-Active-Directory-Authentication-Library-ADAL-のサポート終了-end-of-life-について"><a href="#Azure-Active-Directory-Authentication-Library-ADAL-のサポート終了-end-of-life-について" class="headerlink" title="Azure Active Directory Authentication Library (ADAL) のサポート終了 (end-of-life) について"></a>Azure Active Directory Authentication Library (ADAL) のサポート終了 (end-of-life) について</h2><p><a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/azure-ad-change-management-simplified/ba-p/2967456">以前発表しました</a> ように、ADAL のサポート終了 (end-of-life) は 2022 年 12 月 31 日です。ADAL を使用したアプリは引き続き動作しますが、サポートやセキュリティ修正は end-of-life 以降は提供されません。また、ADAL の end-of-life 前に、ADAL の機能リリースや、新しいプラットフォーム バージョンへの対応予定もございません。このため、Microsoft Authentication Library (MSAL) への移行を優先することを推奨します。詳細は「<a href="https://learn.microsoft.com/ja-jp/azure/active-directory/develop/msal-migration">Microsoft Authentication Library (MSAL) へのアプリケーションの移行</a>」をご参照ください。</p><h2 id="ライセンスの割り当て-API-PowerShell-の廃止について"><a href="#ライセンスの割り当て-API-PowerShell-の廃止について" class="headerlink" title="ライセンスの割り当て API/PowerShell の廃止について"></a>ライセンスの割り当て API/PowerShell の廃止について</h2><p><strong>既存のテナント</strong> における、Azure AD Graph および MSOnline PowerShell における <strong>ライセンスの割り当て</strong> API および PowerShell コマンドレットの廃止は、2023 年 3 月 31 日に延長されました。2022 年 11 月 1 日以降に作成された <strong>新しいテナント</strong> では、これらの API と PowerShell コマンドレットは最初から機能しなくなる予定です。Microsoft Graph からライセンス管理 API にアクセスするためにアプリを移行するためには、<a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/migrate-your-apps-to-access-the-license-managements-apis-from/ba-p/2464366">“Migrate your apps to access the license managements APIs from Microsoft Graph”</a> と <a href="https://learn.microsoft.com/en-us/powershell/microsoftgraph/azuread-msoline-cmdlet-map?view=graph-powershell-1.0">“Find Azure AD and MSOnline cmdlets in Microsoft Graph PowerShell”</a> のガイダンスに沿って、MS Graph への移行を優先することを推奨します。</p><h2 id="Azure-AD、Azure-AD-Preview、MSOnline-PowerShell-の廃止について"><a href="#Azure-AD、Azure-AD-Preview、MSOnline-PowerShell-の廃止について" class="headerlink" title="Azure AD、Azure AD Preview、MSOnline PowerShell の廃止について"></a>Azure AD、Azure AD Preview、MSOnline PowerShell の廃止について</h2><p>引き続きお客様の移行作業をサポートするために、3 つの PowerShell モジュール (Azure AD、Azure AD Preview、MSOnline) の廃止予定日を 2023 年 6 月 30 日まで延長いたしました。この 3 つのモジュールは、セキュリティ アップデートが提供された場合に更新の必要が生じますが、それを除き、廃止予定日までお客様側の対応は特段なく継続して機能します。Azure AD API の状況によっては、2023 年 6 月 30 日以降、一部のコマンドレットが動作しなくなる可能性があることにご注意ください。今後、PowerShell におけるすべての投資は Microsoft Graph PowerShell SDK に対して行われるため、Microsoft Graph PowerShell SDK への移行を継続することを推奨します。また、弊社では Azure AD Graph および MSOnline モジュールに依存する既存のスクリプトおよび PowerShell プロセスを、Microsoft Graph PowerShell SDK に移行するためのツールおよびドキュメントの作成にも取り組んでいます。詳細は、<a href="https://learn.microsoft.com/en-us/powershell/microsoftgraph/azuread-msoline-cmdlet-map?view=graph-powershell-1.0">“Find Azure AD and MSOnline cmdlets in Microsoft Graph PowerShell”</a> と <a href="https://learn.microsoft.com/en-us/powershell/microsoftgraph/migration-steps?view=graph-powershell-1.0">“Upgrade from Azure AD PowerShell to Microsoft Graph PowerShell”</a> をご参照ください。</p><h2 id="Azure-AD-Domain-Services-クラシック仮想ネットワークのサポートについて"><a href="#Azure-AD-Domain-Services-クラシック仮想ネットワークのサポートについて" class="headerlink" title="Azure AD Domain Services クラシック仮想ネットワークのサポートについて"></a>Azure AD Domain Services クラシック仮想ネットワークのサポートについて</h2><p>以前発表したように、2017 年に Azure AD Domain Services (Azure AD DS) が Azure Resource Manager ネットワークでホスト可能になりました。それ以降、弊社では Azure Resource Manager の最新の機能を使用して、より安全なサービスを構築してきました。今後クラシック デプロイは Azure Resource Manager デプロイに完全に移行するため、Azure AD DS クラシック仮想ネットワークのデプロイは 2023 年 3 月 1 日に廃止される予定です。クラシック仮想ネットワークからの Azure AD DS の移行についての詳細は「<a href="https://learn.microsoft.com/ja-jp/azure/active-directory-domain-services/migrate-from-classic-vnet">クラシック仮想ネットワーク モデルから Resource Manager への Azure Active Directory Domain Services の移行</a>」をご参照ください。</p><p>毎月の更新については、リリースノートのページでご確認ください: <a href="https://learn.microsoft.com/ja-jp/azure/active-directory/fundamentals/whats-new">Azure Active Directory の新着情報</a></p><p>いつものように、フィードバックや提案をお待ちしています。以下のコメントまたは <a href="https://feedback.azure.com/d365community/forum/22920db1-ad25-ec11-b6e6-000d3a4f0789">Azure AD feedback forum</a> でご意見をお聞かせください。また、Microsoft Q&amp;A で、質問、未解決の問題や機能に関するご要望を #AzureADChangeManagementSept2022Train のタグを使用して送信することも可能です。</p><p><a href="https://ignite.microsoft.com/ja-JP/home">10 月 12 日から 10 月 14 日</a> の間に開催される Microsoft Ignite でも、Microsoft Entra のニュースをお届けします。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure Identity サポート チームの 竜 です。&lt;/p&gt;
&lt;p&gt;本記事は、2022 年 09 月 30 日に米国の Azure Active Directory Identity Blog で公開された &lt;a href=&quot;https://techco</summary>
      
    
    
    
    
    <category term="Azure AD" scheme="https://jpazureid.github.io/blog/tags/Azure-AD/"/>
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
  </entry>
  
  <entry>
    <title>MSOnline / AzureAD PowerShell から Graph PowerShell SDK への移行について 2_移行導入編</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/azuread-module-retirement2/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/azuread-module-retirement2/</id>
    <published>2022-09-20T00:00:00.000Z</published>
    <updated>2022-11-30T11:33:00.658Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、 Azure ID チームの小出です。</p><p><a href="https://jpazureid.github.io/blog/azure-active-directory/azuread-module-retirement1/">1_概要編</a>の記事はすでにご覧いただけましたでしょうか。<br>最新のアップデートは、この記事にて随時アップデートを行う予定です。</p><p>今回は、 Graph PowerShell SDK モジュールへの移行について、実際に新しいモジュールを使用するにあたり、前提となる新旧モジュールの違いと、新しいコマンドの探し方をご案内します。</p><h2 id="新旧モジュールの主な違い"><a href="#新旧モジュールの主な違い" class="headerlink" title="新旧モジュールの主な違い"></a>新旧モジュールの主な違い</h2><p>以前の MSOnline / Azure AD モジュールと、新しい Microsoft Graph PowerShell SDK モジュールには、下記のような違いがあります。</p><p>インストールや接続面の違いについては、次回記事に詳細を記載予定ですので、併せてご確認ください。</p><table><thead><tr><th>項目</th><th>MSOnline / AzureAD モジュール</th><th>Microsoft Graph PowerShell SDK</th></tr></thead><tbody><tr><td>コマンドの命名規則</td><td>V1: xxx-Msolxxx (例： Get-MsolUser) <br> V2: xxx-AzureADxxx (例： Get-AzureADUser)</td><td>xxx-Mgxxx (例: Get-MgUser)</td></tr><tr><td>インストール後のモジュール</td><td>MSOnline / AzureAD モジュールがそれぞれインストールされる</td><td>既定では Microsoft.Graph.xxxx のようなサブ モジュールが 38 個インストールされる</td></tr><tr><td>必要な権限</td><td>ユーザーに割り当てられている AzureAD ロール</td><td>User.Read.All などのアクセス許可 および Azure AD ロール（一部のコマンド）</td></tr><tr><td>Connect コマンド実行時の認証画面</td><td>必ずサインイン画面が表示される</td><td>2 回目以降は表示されないことがある</td></tr><tr><td>サインインが完了した時の表示</td><td>サインインしたアカウントの情報が表示される</td><td>Welcome To Microsoft Graph! のメッセージが表示される（サインインしたユーザーの情報を確認する場合、 Get-Mgcontext のコマンド実行が必要）</td></tr><tr><td>PowerShell プロンプトを閉じた時の挙動</td><td>セッションが終了し、新しい PowerShell プロンプトを開いた際には再度サインインが必要</td><td>キャッシュが残るため、事前に Disconnect-MgGraph コマンドで明示的に切断する必要がある。<br> 新しい PowerShell プロンプトを開いた際には、Connect コマンドの実行は必要だが、ユーザー名やパスワードの入力画面が表示されないことがある</td></tr><tr><td>公開情報</td><td>コマンドごとに用意（ <a href="https://docs.microsoft.com/ja-jp/powershell/module/azuread/get-azureaduser?view=azureadps-2.0">Get-AzureADUser</a>）</td><td>コマンドごとに用意 + Graph API の公開情報も利用可能  （ <a href="https://docs.microsoft.com/en-us/powershell/module/microsoft.graph.users/get-mguser?view=graph-powershell-1.0">Get-MgUser</a> および <a href="https://docs.microsoft.com/ja-jp/graph/api/user-get?view=graph-rest-1.0&tabs=http">ユーザーの取得</a>）</td></tr></tbody></table><h2 id="新しいコマンドを探すためには"><a href="#新しいコマンドを探すためには" class="headerlink" title="新しいコマンドを探すためには"></a>新しいコマンドを探すためには</h2><p>今使用しているスクリプトに、今後廃止予定のコマンドがあることが確認できたら、まずは置き換え先となる新しいモジュールのコマンドを探します。<br>最も簡単な方法は、<a href="https://docs.microsoft.com/en-us/powershell/microsoftgraph/azuread-msoline-cmdlet-map?view=graph-powershell-1.0">この公開情報</a>を利用することです。</p><p>表形式でマッピング表があるため、現在使用しているコマンドを検索するだけで、簡単に対応コマンドを見つけることができます。</p><p>もし公開情報にコマンドがない場合、次に Graph API の公開情報があるか確認します。<br>たとえばユーザーの取得の場合、「ユーザー 取得 Graph API」などと検索し、<a href="https://docs.microsoft.com/ja-jp/graph/api/user-get?view=graph-rest-1.0&tabs=http">ユーザーの取得</a> のような公開情報を探します。</p><p>公開情報を見つけたら、 PowerShell 例文があるか確認します。</p><p><img src="/blog/azure-active-directory/azuread-module-retirement2/azuread-module-retirement2-image1.png"></p><p>PowerShell タブはないものの、HTTP タブにクエリの記載がある場合は、 Invoke-MgGraphRequest コマンドの -URL オプションにクエリを入れて実行することで、同様に実行することが可能です。</p><p>以上のような方法でも代替コマンドが確認できないものについては、技術サポートにお気軽にお問い合わせください。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、 Azure ID チームの小出です。&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://jpazureid.github.io/blog/azure-active-directory/azuread-module-retirement1/&quot;&gt;1_概要編&lt;/a&gt;の</summary>
      
    
    
    
    
    <category term="Azure AD" scheme="https://jpazureid.github.io/blog/tags/Azure-AD/"/>
    
    <category term="PowerShell" scheme="https://jpazureid.github.io/blog/tags/PowerShell/"/>
    
  </entry>
  
  <entry>
    <title>MSOnline / AzureAD PowerShell から Graph PowerShell SDK への移行について 3_インストール・接続編</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/azuread-module-retirement3/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/azuread-module-retirement3/</id>
    <published>2022-09-20T00:00:00.000Z</published>
    <updated>2022-11-30T11:33:00.658Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、 Azure ID チームの小出です。<br>この記事は、MSOnline / AzureAD モジュール廃止について、<a href="https://jpazureid.github.io/blog/azure-active-directory/azuread-module-retirement1/">1_概要編</a>、 <a href="https://jpazureid.github.io/blog/azure-active-directory/azuread-module-retirement2/">2_移行導入編</a>の記事の続きとして連載しています。</p><p>今回は Microsoft Graph PowerShell SDK モジュールのインストール方法や、接続に関するよくある質問にお答えします。</p><h2 id="モジュールのインストール"><a href="#モジュールのインストール" class="headerlink" title="モジュールのインストール"></a>モジュールのインストール</h2><p>これまでのモジュールと同様に、 Install-Module コマンドでインストールします。<br>Graph PowerShell SDK のモジュールをインストールする場合、Install-Module Microsoft.Graph と実行します。</p><p>注意点としては、Install-Module Microsoft.Graph を実行すると、サブ モジュール 38 個をすべて含む形でインストールが行われるため少し時間がかかります。</p><p>特定のコマンドのみを使用したい場合、サブ モジュール単位でインストールすることもできますが、その場合は Microsoft.Graph.Authentication は必ずインストールしてください。</p><p><img src="/blog/azure-active-directory/azuread-module-retirement3/azuread-module-retirement3-image1.png"></p><p>モジュールのインストールについての公開情報は、<a href="https://docs.microsoft.com/ja-jp/graph/sdks/sdk-installation#install-the-microsoft-graph-powershell-sdk">Microsoft Graph SDK をインストールする</a> および <a href="https://docs.microsoft.com/ja-jp/powershell/microsoftgraph/installation?toc=/graph/toc.json&view=graph-powershell-1.0">Install the Microsoft Graph PowerShell SDK</a>（英語）をご覧ください。</p><blockquote><p>Installing the main module of the SDK, Microsoft.Graph, will install all 38 sub modules. Consider only installing the necessary modules, including Microsoft.Graph.Authentication which is installed by default when you opt to install the sub modules individually. For a list of available Microsoft Graph modules, use Find-Module Microsoft.Graph*. Only cmdlets for the installed modules will be available for use.</p></blockquote><blockquote><blockquote><p>（日本語：SDK のメインモジュールである Microsoft.Graph をインストールすると、38 個のサブモジュールがすべてインストールされます。サブモジュールを個別にインストールする場合は、デフォルトでインストールされる Microsoft.Graph.Authentication を含め、必要なモジュールのみをインストールすることを検討してください。利用可能な Microsoft Graph モジュールの一覧は、Find-Module Microsoft.Graph* を使用してください。インストールされたモジュールのコマンドレットのみが使用できるようになります。）</p></blockquote></blockquote><h2 id="接続手順"><a href="#接続手順" class="headerlink" title="接続手順"></a>接続手順</h2><p>これまでと同様に、 Connect コマンドを使用して接続します。<br>Connect-MsolService / Connect-AzureAD に対応する Microsoft Graph PowerShell SDK での接続コマンドは、 Connect-MgGraph / Connect-Graph コマンドです。</p><p>一例として、下記のように実行します。</p><p>実行例</p><p><code>Connect-MgGraph -Scopes User.Read.All</code></p><p>これまでのコマンドとは異なり、後ろに -Scopes オプションを使用して、権限を付与する必要があります。<br>-Scopes に指定する値は、必ずしも User.Read.All ではなく、接続後に使用するコマンドによって適宜変更が必要です。<br>たとえば、接続後にグループの削除のコマンドを実行する場合は、代わりに Group.ReadWrite.All を指定する必要があります。</p><p>API の公開情報には、組織アカウント、個人用アカウント、アプリケーションごとに、 API を呼び出すためのアクセス許可とサポート状況について記載されています。<br>事前に各 API の詳細（グループの削除の場合は <a href="https://docs.microsoft.com/ja-jp/graph/api/group-delete?view=graph-rest-1.0&tabs=http">グループの削除</a> など）を確認し、必要なアクセス許可を確認してください。</p><p><img src="/blog/azure-active-directory/azuread-module-retirement3/azuread-module-retirement3-image2.png"></p><p>なお、サインイン後、ユーザーが何の権限を持っているかを確認したい場合は、 (Get-MgContext).scopes コマンドをご利用ください。</p><h2 id="よくある質問"><a href="#よくある質問" class="headerlink" title="よくある質問"></a>よくある質問</h2><p>Q. Get-MgUser 等を使用した後、 Powershell プロンプトを閉じてから再度開くと、 Connect-Mggraph 実行時にパスワード入力画面にならずにサインインできてしまいます。動作の詳細をもう少し詳しく教えてください。</p><p>A. Connect-MgGraph コマンドを実行すると、実行した端末にキャッシュが保持されます。<br>具体的には、実行端末の C:\Users\＜User＞.graph 内に、以下のように .bin3 ファイルが作成されます。<br><img src="/blog/azure-active-directory/azuread-module-retirement3/azuread-module-retirement3-image3.png"></p><p>Connect-MsolService コマンドや、 Connect-AzureAD コマンドでは、一度 PowerShell を終了すれば、次回は再度サインイン画面が表示されますが、<br>Connect-MgGraph コマンドでは、PowerShell をいったん終了した場合でも、毎度サインイン画面は表示されません。</p><p>この場合、認証済みの資格情報を使用できてしまうため、一連のコマンドを実行した後は、 Disconect-MgGraph コマンドを実行ください。<br>なお、Disconect-MgGraph コマンドを実行すると、上記の .bin3 ファイルは表示されなくなります。（再度 Connect-MgGraph を実行してサインインすると、同じ場所にファイルが作成されます。）</p><p>また、Disconnect-MgGraph コマンドを実行しない場合、毎回サインイン画面が表示されないため、<br>認証済みの資格情報をそのまま使用できてしまうほかにも、たとえば異なるテナントに対し、意図しない操作を行ってしまう可能性も考えられます。</p><p>Get-Mgdomain コマンドや Get-MgOrganization コマンドを実行して、現在接続しているテナントを確認したり、 Get-MgContext コマンドを実行し、接続ユーザーの情報を確認したりすることも可能ですので、必要に応じてご利用ください。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、 Azure ID チームの小出です。&lt;br&gt;この記事は、MSOnline / AzureAD モジュール廃止について、&lt;a href=&quot;https://jpazureid.github.io/blog/azure-active-directory/azurea</summary>
      
    
    
    
    
    <category term="Azure AD" scheme="https://jpazureid.github.io/blog/tags/Azure-AD/"/>
    
    <category term="PowerShell" scheme="https://jpazureid.github.io/blog/tags/PowerShell/"/>
    
  </entry>
  
  <entry>
    <title>Azure MFA Server 移行ツール</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/the-mfa-server-migration-utility/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/the-mfa-server-migration-utility/</id>
    <published>2022-09-04T15:00:00.000Z</published>
    <updated>2022-11-30T11:33:01.066Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure Identity サポート チームの 姚 (ヨウ) です。</p><p>本記事は、2022 年 8 月 31 日に米国の Azure Active Directory Identity Blog で公開された <a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/one-step-closer-to-modernization-the-mfa-server-migration/ba-p/3614027">One step closer to modernization: The MFA Server Migration Utility - Microsoft Tech Community</a> を意訳したものになります。<br>ご不明点等ございましたらサポート チームまでお問い合わせください。</p><hr><p>皆さん、こんにちは！</p><p>私たちは常に安全性と生産性を最大限に発揮でき、進化に合わせたソリューションを可能な限り容易に提供できるように努めています。<br>Azure AD の利用によって進化に合わせたセキュリティ対策を実施していく中、オンプレミス Azure MFA Server をクラウドベースの Azure MFA へ移行する際の支援が必要である旨を伺うことがあります。<br>クラウド ベースの MFA に移行することで構成上簡易化できるものがたくさん出てきます。例えば、オンプレミス Azure MFA Server と AD FS サーバーの撤去が挙げられます。<br>今回紹介します Azure MFA Server 移行ツールにより、移行作業の手助けができることを嬉しく思います。</p><p>2019 年 7 月からオンプレミス Azure MFA Server の新規ダウンロードを停止しました。<br>これはオンプレミス Azure MFA Server と比較した場合、クラウド ベースの Azure MFA が、コストの削減、展開の容易性、安全性の向上、機能の豊富さにおいて優位であることにも起因しています。<br>Azure MFA Server 移行ツールは管理者に簡単な作業でユーザーをオンプレミス MFA Server から Azure MFA に移行することによって、これらの利点を利用でき、インフラ環境の簡易化へ前進することができます。</p><p>このツールには以下の 2 つの特徴があります。</p><p>・Azure MFA Server 移行ツールは、エンドユーザーに再登録などの要求をすることなく、オンプレミスに保存時されているユーザーの認証データを Azure AD へ移行します。<br>このツールは最新バージョンの Azure MFA Server に含まれております。</p><p>・ Azure MFA の段階的ロールアウト機能は、フェデレーション設定を変更することなく、一部の対象ユーザーに対して Azure MFA への移行をテストできます。</p><p>はじめに</p><p>手順 1 : プライマリー Azure MFA Server をアップグレードします。<br>ここから最新版の Azure MFA Server をダウンロードし、プライマリー Azure MFA Server にインストールします。<br>もし、ほかにセカンダリ MFA Server が存在している場合、そのバージョンが 6.1.0 より新しいバージョンの場合、その他のサーバーについて追加のアップグレード作業は不要です。</p><p>手順 2 :移行対象のユーザーを選択します。<br>最新版の Azure MFA Server のインストール後、移行ツールを開きます。</p><p><img src="/blog/azure-active-directory/the-mfa-server-migration-utility/the-mfa-server-migration-utility-01.png"></p><p>ユーザーデータの移行は、移行対象ユーザーが含まれる Azure AD グループ (グループのネストも可能です) を選択し、Azure AD へ移行する対象の MFA 方法を定義し、”Migrate Users” をクリックするだけの簡単な手順です。</p><p>手順 3 : Azure MFA を利用するユーザーを定義します。<br>ユーザーデータの移行後、移行対象グループを基に Azure MFA 段階的ロールアウトを利用して Azure MFA を利用するユーザーを設定します。</p><p><img src="/blog/azure-active-directory/the-mfa-server-migration-utility/the-mfa-server-migration-utility-02.png"></p><p>テナントやフェデレーションの設定に対して変更を実施しないため、既存環境へ想定される影響は極めて低いです。また、テスト対象ユーザーについては、最低限のものを指定することができます。</p><p>テストおよび移行が完了しましたら、追加のインフラストラクチャーやメンテナンス費用の発生を抑止するために、即時 MFA Server を撤去できます。<br>移行ツールの詳細は<a href="https://docs.microsoft.com/en-us/azure/active-directory/authentication/how-to-mfa-server-migration-utility">公開情報</a>も参照ください。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure Identity サポート チームの 姚 (ヨウ) です。&lt;/p&gt;
&lt;p&gt;本記事は、2022 年 8 月 31 日に米国の Azure Active Directory Identity Blog で公開された &lt;a href=&quot;https://te</summary>
      
    
    
    
    
    <category term="Azure AD" scheme="https://jpazureid.github.io/blog/tags/Azure-AD/"/>
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
  </entry>
  
  <entry>
    <title>2022 年 6 月末から「セキュリティの既定値群」の有効化が促されます (対象 : 一部のテナント)</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/security-default-2022/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/security-default-2022/</id>
    <published>2022-08-31T15:00:00.000Z</published>
    <updated>2022-11-30T11:33:01.058Z</updated>
    
    <content type="html"><![CDATA[<div class="alert is-info"><p class="alert-title">Note</p><p>2022 年 6 月 13 日更新: 有効にすることを促すポップアップが表示される頻度、14 日後にセキュリティの既定値が有効化されることについて情報を修正しました。</p><p>2022 年 6 月 15 日更新: 影響を受ける可能性があるテナントに関しての情報を更新しました。</p><p>2022 年 9 月  1 日更新: “ユーザーごとの Azure AD Multi-Factor を利用している” テナントも対象となるように方針が変更されたため情報を更新しました。</p><p>2022 年 11 月 9 日更新: テナントの作成日による影響の有無について情報を修正しました。</p><p>今後も情報が更新される可能性があります。情報の更新がありましたら本ブログの内容も更新します。</p></div><p>こんにちは。Azure &amp; Identity サポート チームの栗井です。</p><p>先日 2022 年 5 月 22 日に、グローバルの Azure Active Directory Identity Blog にて、下記記事が公開されました。</p><ul><li><a href="https://techcommunity.microsoft.com/t5/azure-active-directory-identity/raising-the-baseline-security-for-all-organizations-in-the-world/ba-p/3299048">Raising the Baseline Security for all Organizations in the World</a></li></ul><p>上記の記事でアナウンスされた Azure Active Directory の新しい変更点について、本ブログ記事にて日本語で情報をおまとめいたしました。<br>なお分かりやすく読んでいただけるよう、英語記事の直訳ではなく、記事の構成など大幅に変更しております。</p><h2 id="この記事の要点は"><a href="#この記事の要点は" class="headerlink" title="この記事の要点は ?"></a>この記事の要点は ?</h2><p><strong>2020 年 11 月 (*) より前に作成された以下の条件を満たす Azure AD テナントにおいて、「セキュリティの既定値群」の有効化を促すポップアップが表示されるようになります。これは 2022 年 6 月末より順次進められています。<span style="color: red; ">ポップアップが表示されたテナントでは 14 日経過したタイミングで 「セキュリティの既定値群」 が自動的に有効になる見込みです。自動的に有効になることを避ける必要がある場合、 「セキュリティの既定値群」を一度有効にし、再度無効にしてください (対処方法を後述しています)。</span></strong></p><p>(*) 対象のテナントは 2019 年 10 月以前に作成された Azure AD テナントとしていましたが、 2019 年 10 月以降に作成したテナントでも 2020 年 11 月までの間は、セキュリティの既定値群が有効となっていないテナントも存在しておりました (2019 年 10 月 - 2020 年 11 月の期間で作成されたテナントで最初からセキュリティ既定値が有効であったテナントも同様に存在します)。影響を受ける可能性があるテナントとして 2020 年 11 月以前に作成されたテナントである旨、本ブログ記事を訂正しました (2022/11/9 更新)。</p><ul><li>影響を受ける可能性があるテナント<ul><li>2020 年 11 月以前に作成された Azure AD テナントのうち、下記すべてに該当するテナント<ul><li>「条件付きアクセス ポリシー」を利用していない</li><li><del>ユーザーごとの Azure AD Multi-Factor を利用していない</del> <span style="color: red; ">(2022/9 追記: 当初は除外条件に含まれていましたが、条件から外れました)</span></li><li>Azure AD Premium (単体または Microsoft 365 E3 や EMS E3 等 Azure AD Premium を含む) ライセンスを 1 ライセンスも持たない</li><li>教育機関向け (EDU) のライセンスを 1 ライセンスも持たない</li><li>現在「セキュリティの既定値群」を利用していない、かつ過去にも利用が無い </li><li>レガシ認証の利用が無い (トラフィックが検出されていない) </li><li>CSP パートナー テナントではない</li></ul></li></ul></li></ul><p>上記の条件を 1 つでも満たしていないテナントには影響ありません。</p><h2 id="前提-1-そもそも「セキュリティの既定値群-セキュリティ-デフォルト-」とはどんな機能？"><a href="#前提-1-そもそも「セキュリティの既定値群-セキュリティ-デフォルト-」とはどんな機能？" class="headerlink" title="前提 1 : そもそも「セキュリティの既定値群 (セキュリティ デフォルト)」とはどんな機能？"></a>前提 1 : そもそも「セキュリティの既定値群 (セキュリティ デフォルト)」とはどんな機能？</h2><p>セキュリティの既定値群とは、2019 年 10 月にリリースされた、無料で利用できる Azure AD のセキュリティ機能です。</p><p>この機能を有効にすることで、下記のセキュリティ機能が一括で有効になります。</p><ol><li>すべてのユーザーに対して、Azure AD Multi-Factor Authentication への登録を必須にします。</li><li>管理者に多要素認証の実行を要求します。</li><li>必要に応じてユーザーに多要素認証を要求します。</li><li>レガシ認証プロトコルをブロックします。</li><li>Azure portal などへのアクセスに多要素認証を要求します。</li></ol><ul><li>参考 : <a href="https://docs.microsoft.com/ja-jp/azure/active-directory/fundamentals/concept-fundamentals-security-defaults">Azure AD のセキュリティの既定値群</a></li></ul><p>機能の詳細については参考の公開情報をご覧ください。</p><h2 id="前提-2-自分のテナントでは、セキュリティの既定値群が有効化されている"><a href="#前提-2-自分のテナントでは、セキュリティの既定値群が有効化されている" class="headerlink" title="前提 2 : 自分のテナントでは、セキュリティの既定値群が有効化されている ?"></a>前提 2 : 自分のテナントでは、セキュリティの既定値群が有効化されている ?</h2><p>セキュリティの既定値群の現在の設定値は、Azure ポータルの下記画面にて確認できます。</p><ol><li>管理者ユーザーで Azure ポータル (<a href="https://portal.azure.com/">https://portal.azure.com</a>) にアクセスします。</li><li>Azure Active Directory &gt; プロパティ に進みます。<ul><li>直通リンク : <a href="https://portal.azure.com/#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/Properties">https://portal.azure.com/#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/Properties</a></li></ul></li><li>[セキュリティの既定値群の有効化] を押下いただくと、下記画面が表示されます。[はい / いいえ] によって現在の設定値が確認できます。<img src="/blog/azure-active-directory/security-default-2022/settings.png"></li></ol><p>なお 2019 年 10 月 22 日以降に作成された Azure AD テナントでは、テナントを作成した時点で、セキュリティの既定値群が有効にされています。</p><h2 id="本題-2019-年-10-月以前に作成された一部のテナントでは、管理者に対して「セキュリティの既定値群」の有効化を促すポップアップが表示されるようになる予定です。"><a href="#本題-2019-年-10-月以前に作成された一部のテナントでは、管理者に対して「セキュリティの既定値群」の有効化を促すポップアップが表示されるようになる予定です。" class="headerlink" title="本題 : 2019 年 10 月以前に作成された一部のテナントでは、管理者に対して「セキュリティの既定値群」の有効化を促すポップアップが表示されるようになる予定です。"></a>本題 : 2019 年 10 月以前に作成された一部のテナントでは、管理者に対して「セキュリティの既定値群」の有効化を促すポップアップが表示されるようになる予定です。</h2><p>既に多くのお客様環境において「セキュリティの既定値群」や「条件付きアクセス ポリシー」を利用した MFA をご活用いただいております。<br>しかしいずれも有効になっていないテナントの場合、セキュリティ観点では安全な状態とは言えません。このようなテナントを対象に、<strong>2022 年の 6 月末を目安に、セキュリティの既定値群の有効化を促し、その後設定を有効にする予定</strong>です。</p><h3 id="セキュリティの既定値群の有効化ポップアップが表示されるまでのステップ"><a href="#セキュリティの既定値群の有効化ポップアップが表示されるまでのステップ" class="headerlink" title="セキュリティの既定値群の有効化ポップアップが表示されるまでのステップ"></a>セキュリティの既定値群の有効化ポップアップが表示されるまでのステップ</h3><ol><li><p>セキュリティの既定値群のポップアップ表示の対象テナントには、まずグローバル管理者宛へのメール、ならびに Microsoft 365 管理センターのメッセージ センターでの通知が行われる予定です。</p></li><li><p>そして 6 月下旬頃から、グローバル管理者によるサインイン時に、下記のようなプロンプトが表示されるようになります。<br><img src="/blog/azure-active-directory/security-default-2022/prompt.png"></p></li><li><p>上記プロンプトで “Enable Security Defaults” を選択いただくと、即時にセキュリティの既定値群が有効にされます。</p></li><li><p>上記プロンプトで “Ask Later” を選択いただくと、2 日間上記通知は表示されなくなりますが、2 日後に再度表示されます (再度 Ask later が可能)。合計 14 日間 Ask later で先延ばしが可能です。</p></li></ol><h3 id="ポップアップが表示された場合どうなるか"><a href="#ポップアップが表示された場合どうなるか" class="headerlink" title="ポップアップが表示された場合どうなるか"></a>ポップアップが表示された場合どうなるか</h3><ul><li>後述する 「再無効化」 の対処をしない場合、14 日経過したタイミングで 「セキュリティの既定値群」 が自動的に有効になる予定です。(一部のテナントに対しては、自動的に有効にするのではなく、ポップアップでの選択肢としても引き続き無効としたままとするものを用意する予定ですが、無効のままとしたい場合には、再無効化の作業を事前に実施しておくことが確実です。)</li><li> 「セキュリティの既定値群」 を無効にしておく必要がある場合、 「セキュリティの既定値群」を一度有効にし、有効にした後で再度無効にすることで、「セキュリティの既定値群」の有効化を促すポップアップは表示されなくなり、また、セキュリティの既定群の自動的な有効化も避けることができます。(この手法を本ブログでは <strong>「再無効化」</strong> と呼称しています)</li><li>再無効化において、一度有効にしてから無効に再度変更するまでに特に間隔を空ける必要はありません。</li><li>再無効化はポップアップが表示される前に実施しても効果が見込めます。しかし、タイミング次第では再無効化を事前に実施していてもポップアップが表示される可能性があります。この場合は、ポップアップが表示されたのちに再度、再無効化を実施ください。</li></ul><h3 id="再無効化の実施方法"><a href="#再無効化の実施方法" class="headerlink" title="再無効化の実施方法"></a>再無効化の実施方法</h3><ol><li>Azure portal に、セキュリティ管理者、条件付きアクセス管理者、または全体管理者としてサインインします。</li><li>[Azure Active Directory]&gt;[プロパティ] の順に移動します。</li><li>[セキュリティの既定値群の管理] を選択します。</li><li>[セキュリティの既定値群の有効化] トグルを [はい] に設定します。</li><li>[保存] を選択します。</li><li>[セキュリティの既定値群の有効化] トグルを [いいえ] に設定します。</li><li>[保存] を選択します。</li></ol><h2 id="補足-1-セキュリティの既定値群を有効化すると、具体的にどうなるの？"><a href="#補足-1-セキュリティの既定値群を有効化すると、具体的にどうなるの？" class="headerlink" title="補足 1 : セキュリティの既定値群を有効化すると、具体的にどうなるの？"></a>補足 1 : セキュリティの既定値群を有効化すると、具体的にどうなるの？</h2><p>セキュリティの既定値群の機能については、前述の項目「前提 1 : そもそも「セキュリティの既定値群 (セキュリティ デフォルト)」とはどんな機能？」の通りですが、ユーザー / 管理者目線で発生する具体的な差異について、補足します。</p><h3 id="1-すべてのユーザー-Azure-MFA-への登録が必須になります。"><a href="#1-すべてのユーザー-Azure-MFA-への登録が必須になります。" class="headerlink" title="1. すべてのユーザー : Azure MFA への登録が必須になります。"></a>1. すべてのユーザー : Azure MFA への登録が必須になります。</h3><p>MFA の方法を一切登録していないユーザーに対して、登録が要求されます。具体的には、サインイン時に下記画面が表示され、Microsoft Authenticator のアプリによる MFA の登録が要求されます。<br><img src="/blog/azure-active-directory/security-default-2022/mysignins.png"></p><ul><li>Azure AD Premium (またはそれを含む) ライセンスが割り当てられたテナントでは、SMS や音声通話による MFA も選択できます。Azure AD Premium ライセンスが割り当てられていないテナントで一般ユーザーが利用できる多要素認証は Microsoft Authenticator のみです。</li><li>管理者ユーザーは MFA の方法として 2 つの登録が必要です。Microsoft Authenticator に加えて、SMS の番号の登録も要求されます。</li></ul><h3 id="2-すべてのユーザー-レガシ認証がブロックされます。"><a href="#2-すべてのユーザー-レガシ認証がブロックされます。" class="headerlink" title="2. すべてのユーザー : レガシ認証がブロックされます。"></a>2. すべてのユーザー : レガシ認証がブロックされます。</h3><p>一般的にレガシ認証と呼ばれる、古いプロトコルによる認証がすべてブロックされます。<br>レガシ認証には Exchange ActiveSync、POP、IMAP、SMTP、MAPI over HTTP などが含まれます。</p><p>レガシ認証のみ対応しているメールクライアント アプリ等を利用している場合、レガシ認証のブロックにより接続ができないなどの影響が生じる恐れがあります。</p><h3 id="3-管理者ユーザー-全てのサインイン時に-MFA-が要求されます。"><a href="#3-管理者ユーザー-全てのサインイン時に-MFA-が要求されます。" class="headerlink" title="3. 管理者ユーザー : 全てのサインイン時に MFA が要求されます。"></a>3. 管理者ユーザー : 全てのサインイン時に MFA が要求されます。</h3><p>すべてのユーザーに対して MFA の登録が必要となるほか、管理者ユーザーについては、サインインの度に毎回、登録した方法による MFA が要求される動作になります。</p><p>管理者ではない一般ユーザーについては、サインインの度に毎回 MFA が要求される動作にはなりません。Azure AD がユーザーの不審な操作を検知した際や、ユーザーが Azure ポータルや Azure CLI などの特権を必要とするアプリケーションにアクセスする際など、”必要に応じて” MFA が要求されるようになります。</p><h2 id="補足-2-上記変更に至った経緯"><a href="#補足-2-上記変更に至った経緯" class="headerlink" title="補足 2 : 上記変更に至った経緯"></a>補足 2 : 上記変更に至った経緯</h2><p>そもそもなぜ、セキュリティの既定値群の有効を進めるような施策が実施されるのに至ったのか？その経緯と背景については、冒頭に記載の「Raising the Baseline Security for all Organizations in the World」にてご紹介しております。以下はその抄訳です。</p><p>世界中のお客様にご利用いただいている Azure AD においては、日々何全件もの不審なサインインやアカウント攻撃が発生しています。しかし残念ながら現状は、その防御率は 100% ではありません。</p><p>もし不審なアクセスを防ぐことができずアカウントが侵害されると、お客様の業務影響や情報漏洩などに直結しうる大問題であることは、言うまでもありません。</p><p>少しでもこのような事態を回避するために、Azure AD の各種設定を活用して、セキュリティ性を高めることは重要です。中でも最も大事なのは、<strong>MFA を有効化すること、そしてレガシ認証を無効化してモダン認証 (先進認証) に完全移行すること</strong>です。</p><p>事実、弊社で報告を受けたアカウントの侵害事例のうち 99.9% 以上に対して、MFA が有効化されていませんでした。</p><p>MFA が有効化されていない場合、パスワードのみでサインインができてしまうということです。パスワードのみによるアカウントの保護は昨今においては非常に脆弱で、パスワード スプレー攻撃やパスワード リスト型攻撃、フィッシングといった脅威における格好のターゲットになります。レガシ認証も同様の理由 (= パスワードのみの認証) で、攻撃者にとってはとても都合のいいセキュリティ ホールです。</p><p>ただし残念ながら、全ての組織において IT セキュリティ専門のチームが存在している状況ではありません。そのため MFA という存在自体を知らなかったり、知っていても導入するきっかけが無い場合もあるかと存じます。</p><p>そのような状況を改善するために、2019 年 10 月以降に作成された Azure AD テナントに対しては、既定で「セキュリティの既定値群」の設定が有効にされています。この機能は 3000 万以上の組織にてご活用いただいています。これらの組織では、全体の Azure AD 利用者に比べ、80% ものアカウント侵害を防いでいる実績があります。</p><p>しかし 2019 年 10 月より前に作成された Azure AD テナントでは、「セキュリティの既定値群」は管理者が明示的に設定を変更しない限りは、有効にされておりません。そのため、別途条件付きアクセス ポリシー等の他の機能によってセキュリティ性を高めていただいている場合を除き、前述した「パスワードのみの認証」によるリスクに晒されている現状を懸念して、セキュリティの既定値群の有効に向けた施策を決定しました。</p><p>「セキュリティの既定値群」は組織のセキュリティ性を担保いただくにあたって優秀な機能ですが、無料のオプションであるため、カスタマイズ性が低いことがデメリットです。<br>Azure AD Premium のライセンスによってご利用いただける「条件付きアクセス」の機能であれば、アクセス パターンやユーザーに応じた制御をよりきめ細かく構成できますので、必要に応じて導入をご検討いただけますと幸いです。</p><p>ご不明な点がございましたら弊社サポートまでお気軽にお問い合わせください。上記内容が少しでも皆様の参考となりますと幸いです。</p><h2 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h2><hr><p>Q1. ポップアップは英語以外でも表示されますか？</p><p>A1. はい、日本語など各国の言語に翻訳され表示される見込みです。</p><hr><p>Q2. 事前通知はグローバル管理者へのメール、ならびに Microsoft 365 管理センターのメッセージ センター以外にも行われますか。</p><p>A2. はい。Azure ポータル上での表示も併せて行われる見込みです。</p><hr><p>Q3. CSP のパートナーのテナントでも表示されますか？</p><p>A3. いいえ、表示されません。 またこれらのテナントでは自動的にセキュリティの既定値群が有効になることもありません。</p><hr><h2 id="関連リンクまとめ"><a href="#関連リンクまとめ" class="headerlink" title="関連リンクまとめ"></a>関連リンクまとめ</h2><h3 id="記事内で引用・ご紹介した公開情報-再掲"><a href="#記事内で引用・ご紹介した公開情報-再掲" class="headerlink" title="記事内で引用・ご紹介した公開情報 (再掲)"></a>記事内で引用・ご紹介した公開情報 (再掲)</h3><ul><li><a href="https://techcommunity.microsoft.com/t5/azure-active-directory-identity/raising-the-baseline-security-for-all-organizations-in-the-world/ba-p/3299048">Raising the Baseline Security for all Organizations in the World (英語記事) | Microsoft Tech Community</a></li><li><a href="https://docs.microsoft.com/ja-jp/azure/active-directory/fundamentals/concept-fundamentals-security-defaults">Azure AD のセキュリティの既定値群 | Microsoft Docs</a></li></ul><h3 id="Azure-AD-MFA-についてもっと知りたい方へ"><a href="#Azure-AD-MFA-についてもっと知りたい方へ" class="headerlink" title="Azure AD MFA についてもっと知りたい方へ"></a>Azure AD MFA についてもっと知りたい方へ</h3><ul><li><a href="https://docs.microsoft.com/ja-jp/azure/active-directory/authentication/concept-mfa-howitworks">Azure AD Multi-Factor Authentication | Microsoft Docs</a>Azure AD MFA の動作の仕組みについてご紹介しています。</li><li><a href="https://jpazureid.github.io/blog/azure-active-directory/MFA_configuration_scenarios/">Azure MFA 導入パターンを網羅的にご紹介！ | Japan Azure Identity Support Blog</a>Azure AD MFA を有効化いただける各種機能を、セキュリティの規定値群や条件付きアクセスを含め、ご紹介しております。</li></ul><h3 id="条件付きアクセスについてもっと知りたい方へ"><a href="#条件付きアクセスについてもっと知りたい方へ" class="headerlink" title="条件付きアクセスについてもっと知りたい方へ"></a>条件付きアクセスについてもっと知りたい方へ</h3><ul><li><a href="https://docs.microsoft.com/ja-jp/azure/active-directory/conditional-access/overview">条件付きアクセスとは | Microsoft Docs</a>条件付きアクセスの概要をご紹介しております。</li><li><a href="https://www.youtube.com/watch?v=CTdQnnm9s_k">3-2: 詳説！Azure AD 条件付きアクセス - 動作の仕組みを理解する編 | youtube.com</a>Azure AD 開発チームがお届けするウェビナーです。条件付きアクセスの動作の仕組みをご紹介しております。</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;alert is-info&quot;&gt;&lt;p class=&quot;alert-title&quot;&gt;Note&lt;/p&gt;&lt;p&gt;2022 年 6 月 13 日更新: 有効にすることを促すポップアップが表示される頻度、14 日後にセキュリティの既定値が有効化されることについて情報を修正し</summary>
      
    
    
    
    
    <category term="Azure AD" scheme="https://jpazureid.github.io/blog/tags/Azure-AD/"/>
    
    <category term="MFA" scheme="https://jpazureid.github.io/blog/tags/MFA/"/>
    
    <category term="Security Default" scheme="https://jpazureid.github.io/blog/tags/Security-Default/"/>
    
  </entry>
  
  <entry>
    <title>Azure AD Certificate-Based Authentication (CBA) の新しい機能拡張のご紹介</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/check-out-new-azure-ad-certificate-based-authentication-cba/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/check-out-new-azure-ad-certificate-based-authentication-cba/</id>
    <published>2022-08-30T00:00:00.000Z</published>
    <updated>2022-11-30T11:33:00.686Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、Azure Identity サポート チームの夏木です。</p><p>本記事は、2022 年 7 月 26 日に米国の Azure Active Directory Identity Blog で公開された <a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/check-out-new-azure-ad-certificate-based-authentication-cba/ba-p/2365682">Check out new Azure AD Certificate-Based Authentication (CBA) enhancements</a> を意訳したものになります。ご不明点等ございましたらサポート チームまでお問い合わせください。</p><hr><p>2022 年 2 月、私たちは Microsoft の「<a href="https://www.whitehouse.gov/briefing-room/presidential-actions/2021/05/12/executive-order-on-improving-the-nations-cybersecurity/">Executive Order 14028,Improving the Nation’s Cybersecurity</a>」へのコミットメントの一環として、<a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/azure-ad-certificate-based-authentication-now-in-public-preview/ba-p/2464390">Azure AD Certificate-Based Authentication</a> のパブリック プレビューを発表しました。</p><p>パブリック プレビューのプロセスにて、プライベート プレビューに参加しなかったお客様からも素晴らしいフィードバックを得ることができました。今回も、素晴らしいフィードバックをいただき、既存のパブリック プレビューにいくつかの重要な機能を追加しました。お客様からのフィードバックによって改善された Azure AD Certificate Based Authentication (CBA) の項目は以下のとおりです:</p><ul><li>Azure AD アプリケーションおよびリソースへのシングルサインオン (SSO) と Windows ログオンに対する Azure AD CBA のサポート </li><li>マネージド デバイスと非マネージド デバイスで Microsoft 製アプリケーションにアクセスするためのモバイル プラットフォーム (iOS、Android) に対する Azure AD CBA のサポート </li><li>信頼された証明機関の構成を Azure AD で管理するための管理機能の向上 </li><li>Active Directory Federated Server からの移行を容易にするための CBA の段階的展開のサポート</li></ul><p>以下では、Senir Product Manager である Vimala Renganathan より詳細をお知らせいたします。</p><p>Alex Weinert, Director of Identity Security, Microsoft<br>(Twitter: <a href="https://techcommunity.microsoft.com/t5/user/viewprofilepage/user-id/15847#profile">@Alex_t_weinert</a>)  </p><hr><p>みなさんこんにちは。</p><p>Identity PM チームの Vimala と申します。今回、Azure AD (CBA) のパブリック プレビューに対して追加された新機能をお話しできることをうれしく思います。</p><h2 id="Windows-ログオンのサポート"><a href="#Windows-ログオンのサポート" class="headerlink" title="Windows ログオンのサポート"></a>Windows ログオンのサポート</h2><p>Windows 11 (22H2) において、Azure AD ユーザーが、スマートカード上の X.509 証明書を使用して、Windows ログオン時に Azure AD に対して直接認証することができるようになりました。Azure AD 参加デバイスおよび Hybrid Azure AD 参加デバイスでは、ユーザーが証明書を使用して Windows にログインすると、Azure AD と統合されたすべてのアプリケーションに対し SSO の恩恵を得ることができるようになります。</p><p><img src="/blog/azure-active-directory/check-out-new-azure-ad-certificate-based-authentication-cba/win-logon.png"></p><p>今後、Windows 10 や Windows Server でもこの機能に対応する予定です。</p><h2 id="モバイル-デバイス-Android、iOS-のサポート"><a href="#モバイル-デバイス-Android、iOS-のサポート" class="headerlink" title="モバイル デバイス (Android、iOS) のサポート"></a>モバイル デバイス (Android、iOS) のサポート</h2><p>iOS および Android デバイスにおいて、ユーザーのデバイスにプロビジョニングされた証明書を使用して、Azure AD CBA をもちいて Azure AD に対する認証を行うことができるようになりました。ネイティブ ブラウザと Microsoft アプリケーション (下記一覧) の両方がサポートされています。企業は、Microsoft Intune などのモバイル デバイス管理 (MDM) ソリューションを使用して、管理するデバイスにクライアント証明書または派生する個人識別情報の検証 (PIV) をプロビジョニングすることができます。 </p><p>以下は、サポートされる Microsoft アプリケーションのリストです。 </p><table><thead><tr><th>アプリ名</th><th>対応状況</th></tr></thead><tbody><tr><td>Azure Information Protection app</td><td><img src="/blog/azure-active-directory/check-out-new-azure-ad-certificate-based-authentication-cba/check.png"></td></tr><tr><td>Intune Company Portal</td><td><img src="/blog/azure-active-directory/check-out-new-azure-ad-certificate-based-authentication-cba/check.png"></td></tr><tr><td>Microsoft Teams</td><td><img src="/blog/azure-active-directory/check-out-new-azure-ad-certificate-based-authentication-cba/check.png"></td></tr><tr><td>Office (mobile)</td><td><img src="/blog/azure-active-directory/check-out-new-azure-ad-certificate-based-authentication-cba/check.png"></td></tr><tr><td>OneNote</td><td><img src="/blog/azure-active-directory/check-out-new-azure-ad-certificate-based-authentication-cba/check.png"></td></tr><tr><td>OneDrive</td><td><img src="/blog/azure-active-directory/check-out-new-azure-ad-certificate-based-authentication-cba/check.png"></td></tr><tr><td>Outlook</td><td><img src="/blog/azure-active-directory/check-out-new-azure-ad-certificate-based-authentication-cba/check.png"></td></tr><tr><td>Power BI</td><td><img src="/blog/azure-active-directory/check-out-new-azure-ad-certificate-based-authentication-cba/check.png"></td></tr><tr><td>Skype for Business</td><td><img src="/blog/azure-active-directory/check-out-new-azure-ad-certificate-based-authentication-cba/check.png"></td></tr><tr><td>Word / Excel / PowerPoint</td><td><img src="/blog/azure-active-directory/check-out-new-azure-ad-certificate-based-authentication-cba/check.png"></td></tr><tr><td>Yammer</td><td><img src="/blog/azure-active-directory/check-out-new-azure-ad-certificate-based-authentication-cba/check.png"></td></tr></tbody></table><h2 id="管理者体験の向上"><a href="#管理者体験の向上" class="headerlink" title="管理者体験の向上"></a>管理者体験の向上</h2><p>お客様が CBA の設定を簡単に設定し、管理できるようにすることが何よりも重要です。これまでは、PowerShell コマンドを使用して認証局を Azure AD にアップロードする必要がありましたが、今後は Azure ポータルを使用してシームレスに認証局を設定できるようになりました。 </p><p>Azure ポータルを使って、以下のことができるようになりました：</p><ul><li>認証局 (ルート CA とすべての中間 CA) を Azure AD にアップロードする </li><li>Azure AD にアップロードされたすべての信頼された認証機関を表示する</li><li>CA が有効でない場合は削除する</li><li>証明書の有効期限に基づき、証明書の有効性を簡単に確認することができる</li></ul><p><img src="/blog/azure-active-directory/check-out-new-azure-ad-certificate-based-authentication-cba/cert-settings.png"></p><h2 id="今後の展開"><a href="#今後の展開" class="headerlink" title="今後の展開"></a>今後の展開</h2><p><a href="https://feedback.azure.com/d365community/forum/22920db1-ad25-ec11-b6e6-000d3a4f0789">Azure Active Directory Community</a> に引き続きご意見をお寄せください。第二認証要素としての CBA や、証明書失効リスト (CRL) の制限の撤廃、ルーティング不可能な UPN のサポート、モバイル デバイスでの外部スマートカード サポートなど、さらなる機能拡張を実現を目指しています。 </p><p>マイクロソフトの <a href="https://www.microsoft.com/en-us/federal/CyberEO.aspx">Executive Order 14028 here</a> に対するコミットメントについては、こちらをご覧ください。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、Azure Identity サポート チームの夏木です。&lt;/p&gt;
&lt;p&gt;本記事は、2022 年 7 月 26 日に米国の Azure Active Directory Identity Blog で公開された &lt;a href=&quot;https://techcomm</summary>
      
    
    
    
    
    <category term="Azure AD" scheme="https://jpazureid.github.io/blog/tags/Azure-AD/"/>
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
  </entry>
  
  <entry>
    <title>セキュアなコラボレーションを実現するクロス テナント アクセス設定が一般公開されました！</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/cross-tenant-access-setting-ga/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/cross-tenant-access-setting-ga/</id>
    <published>2022-08-09T00:00:00.000Z</published>
    <updated>2022-11-30T11:33:00.746Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、 Azure Identity サポート チームの小出です。</p><p>本記事は、 2022 年 7 月 21 日に米国の Azure Active Directory Identity Blog で公開された <a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/cross-tenant-access-settings-for-secure-collaboration-now/ba-p/3575844">Cross-tenant access settings for secure collaboration now generally available!</a> を意訳したものになります。ご不明点などございましたら、サポート チームまでお問い合わせください。</p><hr><p>みなさん、こんにちは。 </p><p>外部コラボレーションのためのクロス テナント アクセス設定が、一般利用可能になったことをお伝えしたいと思います。セキュアなコラボレーション ポリシーを実現するためにチームが行った作業を誇りに思うと同時に、<a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/collaborate-more-securely-with-new-cross-tenant-access-settings/ba-p/2147077">パブリック プレビュー</a> を実施した際に、お客様から得た知見を共有できることを嬉しく思います。</p><p>お客様からお聞きした採用事例やメインのシナリオについて、ここからはシニア プロダクト マネージャーの Josh Douglas を迎えて、話を聞きたいと思います。</p><hr><p>Robin、ありがとう! クロス テナント アクセス設定と一般提供までの道のりについて、皆さんに詳しくお話できることをうれしく思います。パブリック プレビューでは、多くのお客様がクロス テナント アクセス設定を採用し、以前は不可能だったシナリオや要件に対応されています。このことを説明するために、まずは以下の情報を紹介します。</p><ul><li>5,000 以上のテナントが、他の組織のために MFA の信頼を設定しました。</li><li>2,000 以上のテナントが、準拠済みもしくは Azure AD 参加デバイスの信頼関係を構成しました。</li></ul><p>これらの統計は、この機能によって、従来は不可能だった組織外のコラボレーションのセキュリティ確保が可能になるという、皆様からの素晴らしいフィードバックに沿うものです。</p><h2 id="セキュアなコラボレーションを実現しながら外部ユーザーとスムーズに連携する"><a href="#セキュアなコラボレーションを実現しながら外部ユーザーとスムーズに連携する" class="headerlink" title="セキュアなコラボレーションを実現しながら外部ユーザーとスムーズに連携する"></a>セキュアなコラボレーションを実現しながら外部ユーザーとスムーズに連携する</h2><p>外部ユーザーの MFA 登録を管理することで、追加作業が発生し、サポート コストが増加するという声が聞かれます。さらにユーザーは、コラボレーションする異なる組織間で、時には複数回、登録と MFA を実行しなければならず負担を感じていました。受信方向のクロス テナント アクセス設定では、外部の Azure AD 組織からの MFA のセキュリティ クレームを信頼し、条件付きアクセス ポリシーで MFA が要求された場合に、外部ユーザーがホーム テナントで MFA を実行するようにするお客様が多くなっています。これにより、ユーザーは別のテナントのリソースにアクセスする際に 2 回目の MFA を実行する必要がなくなり、ユーザーにとっての負担が大幅に軽減されます。これにより、組織で要求されるセキュリティ体制を維持しながら、外部ユーザーの MFA 登録を管理する必要がなくなり、サポート コストを削減することができます。また、組織で発生する MFA コストも削減できます。</p><p>さらに、外部ユーザーがアプリやリソースにアクセスするデバイスの種類を懸念しているお客様もいらっしゃいました。条件付きアクセス ポリシーを適用して、外部ユーザーが準拠済みデバイスまたはハイブリッド Azure AD 参加ドメインでリソースにアクセスすることを要求することが、受信方向のクロス テナント アクセス設定で可能になりました。外部 AD 組織からのデバイス クレームを信頼することで、管理されたデバイスで外部ユーザーがアプリやリソースにアクセスしていることがわかり、データをさらに保護することができます。 </p><p>詳細は <a href="https://docs.microsoft.com/ja-jp/azure/active-directory/external-identities/authentication-conditional-access">External Identities の認証と条件付きアクセス</a> をご覧ください。</p><p><img src="/blog/azure-active-directory/cross-tenant-access-setting-ga/cross-tenant-access-setting-ga1.png" alt="特定の外部組織から、多要素認証、コンプライアンス、ハイブリッドAzure ADに参加したデバイスを信頼する。"></p><h2 id="ユーザーが承認した外部組織とのみコラボレートするようにする"><a href="#ユーザーが承認した外部組織とのみコラボレートするようにする" class="headerlink" title="ユーザーが承認した外部組織とのみコラボレートするようにする"></a>ユーザーが承認した外部組織とのみコラボレートするようにする</h2><p>アプリやリソースを外部からの不正アクセスから保護することが重要であるのと同様に、ユーザーが承認した組織としかコラボレーションしていないことを確認することも重要な場合があります。例えば、規制の強い業界に属し、データの流出について非常に敏感になっている組織があげられます。教育機関では、学生が学校のアカウントを使用して、許可されていない外部組織と Teams 上でチャットしている可能性もあります。このようなシナリオでは、ユーザーが未承認の外部テナントにアクセスするのをブロックする、送信方向のクロス テナント アクセス設定を導入することができます。教育業界のあるお客様は、ポリシーのテストと導入に 5 分もかからなかったそうです。これによりシンプルなセキュリティが実現できます。</p><p>詳細は <a href="https://docs.microsoft.com/ja-jp/azure/active-directory/external-identities/cross-tenant-access-settings-b2b-collaboration#modify-outbound-access-settings">送信アクセス設定を変更する</a> ご覧ください。</p><p><img src="/blog/azure-active-directory/cross-tenant-access-setting-ga/cross-tenant-access-setting-ga2.png" alt="ユーザーのグループをターゲットにして、特定の組織への送信アクセスをブロックする。"></p><p><img src="/blog/azure-active-directory/cross-tenant-access-setting-ga/cross-tenant-access-setting-ga3.png" alt="同じグループのユーザーが、送信アクセス時に、どのアプリケーションにもアクセスできないようにブロックする。"></p><h2 id="Teams-の共有チャンネルでシームレスなコラボレーションを実現"><a href="#Teams-の共有チャンネルでシームレスなコラボレーションを実現" class="headerlink" title="Teams の共有チャンネルでシームレスなコラボレーションを実現"></a>Teams の共有チャンネルでシームレスなコラボレーションを実現</h2><p>Teams や SharePoint 上で、外部ユーザーとのコラボレーションを主に行っている場合、<a href="https://docs.microsoft.com/ja-jp/MicrosoftTeams/shared-channels">Teams 共有チャネル</a> にて、複数の組織のユーザーと同時にチャットやファイル共有、コラボレーションを行うことができるシームレスなコラボレーションが可能です。上記で説明した受信および送信方向のクロス テナント アクセス ポリシーは、Teams 共有チャネルの <a href="https://docs.microsoft.com/ja-jp/azure/active-directory/external-identities/b2b-direct-connect-overview">B2B 直接接続</a> ユーザーにも適用されます。 </p><p><img src="/blog/azure-active-directory/cross-tenant-access-setting-ga/cross-tenant-access-setting-ga4.png" alt="共有チャネルは、ユーザーがテナントを切り替えることなく、シームレスなコラボレーションを実現する。"></p><h2 id="お客様の声"><a href="#お客様の声" class="headerlink" title="お客様の声"></a>お客様の声</h2><p>パブリック プレビュー期間中、多くのお客様が上記の機能を試され、次のような感想を述べられています。 </p><blockquote><p>“クロス テナント アクセス設定は、外部組織とのコラボレーションを確保するために必要なコントロールを提供し、自社の保有財産を超えた「ゼロ トラスト」の道のりをサポートしてくれます。”<br>– 保険業界のお客様からの声</p></blockquote><blockquote><p>“Azure AD B2B により、当社のビジネスとパートナーや顧客との連携、サービスや製品へのアクセスを提供する方法が変革されました。クロス テナント アクセス設定は、より詳細で相互に合意可能なレベルの制御を実装する機能を提供することで、ビジネスを次のレベルへと押し上げました。これは多くのお客様からの重要な要望であり、両者が妥協することなく、データ保護要件を満たすために必要な制御を実施することが可能になります。”<br>– プロフェッショナルサービス業界のお客様からの声</p></blockquote><blockquote><p>“これらの機能により、セキュリティ管理が強化されるとともに、管理されたエンドポイント デバイスから外部テナントへのログインを強制できるようになるため、クロス テナント アクセスに非常に期待しています。クロス テナント アクセスは、リスクを大幅に削減し、セキュリティを向上させ、外部テナントへのアクセスやコラボレーションのニーズに関して、ビジネスをより良くサポートするのに役立っています。セキュリティ部門、ビジネス、そして重要なことですが、監査役や規制当局もこの機能に満足しています。”<br>– 金融サービス業界のお客様 </p></blockquote><h2 id="これはほんの始まりに過ぎません…"><a href="#これはほんの始まりに過ぎません…" class="headerlink" title="これはほんの始まりに過ぎません…"></a>これはほんの始まりに過ぎません…</h2><p>みなさまもぜひクロス テナント アクセス設定をお使いいただければと思います。この設定を始める前に、外部組織とのコラボレーションを評価し、必要なコラボレーションを不注意で阻害することがないように、この <a href="https://docs.microsoft.com/ja-jp/azure/active-directory/reports-monitoring/workbook-cross-tenant-access-activity">ワークブック</a> を活用ください。受信および送信方向のコラボレーション状況を把握できるよう、シンプルに構成されています。</p><p>この製品をどのように使用しているか、または今後どのようにすればより良くなるかについてのフィードバックをお待ちしています。Azure フォーラムや Twitter の @AzureAD タグでフィードバックを共有ください。 </p><p>Robin &amp; Josh<br>Twitter: RobinGo_MS, @joshkdouglas</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、 Azure Identity サポート チームの小出です。&lt;/p&gt;
&lt;p&gt;本記事は、 2022 年 7 月 21 日に米国の Azure Active Directory Identity Blog で公開された &lt;a href=&quot;https://techco</summary>
      
    
    
    
    
    <category term="Azure AD" scheme="https://jpazureid.github.io/blog/tags/Azure-AD/"/>
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
  </entry>
  
  <entry>
    <title>パブリック プレビュー- My Apps の強化</title>
    <link href="https://jpazureid.github.io/blog/azure-active-directory/publicpreview-myapps/"/>
    <id>https://jpazureid.github.io/blog/azure-active-directory/publicpreview-myapps/</id>
    <published>2022-08-08T00:00:00.000Z</published>
    <updated>2022-11-30T11:33:01.002Z</updated>
    
    <content type="html"><![CDATA[<p>こんにちは、 Azure Identity サポート チームの小出です。</p><p>本記事は、 2021 年 11 月15 日に米国の Azure Active Directory Identity Blog で公開された <a href="https://techcommunity.microsoft.com/t5/microsoft-entra-azure-ad-blog/public-preview-enhanced-quot-my-apps-quot-experience/ba-p/3118022">Public Preview: Enhanced “My Apps” experience</a> を意訳したものになります。ご不明点などございましたら、サポート チームまでお問い合わせください。</p><p>Microsoft Entra のエンド ツー エンドの機能を拡張し続けている私たちは、強力なアイデンティティとアクセス管理の実装が、組織とそのすべての人々の生産性を向上させるはずだと固く信じています。安全なアクセスは、ユーザーにとって、可能な限り摩擦のないものでなければなりません。</p><p>お客様のようなお客様からのフィードバックにより、私たちは <a href="https://myapps.microsoft.com/">My Apps ポータル</a> に大幅な機能強化を提供しています。今週、パブリックプレビューを開始し、すべての Azure Active Directory (Azure AD) ユーザーが <a href="https://myapps.microsoft.com/">myapps.microsoft.com</a> で利用できます。</p><h2 id="日常業務のスタート地点"><a href="#日常業務のスタート地点" class="headerlink" title="日常業務のスタート地点"></a>日常業務のスタート地点</h2><p>My Appsは、必要なアプリケーションに迅速かつ安全にアクセスできるようにします。ユーザーは、自分がアクセスできるアプリケーションを発見して起動できるため、このポータルは、あらゆるタスクの出発点となることでしょう。<br><img src="/blog/azure-active-directory/publicpreview-myapps/publicpreview-myapps1.png"></p><h2 id="より使いやすくなりました"><a href="#より使いやすくなりました" class="headerlink" title="より使いやすくなりました"></a>より使いやすくなりました</h2><p>新しいビューは、より使いやすく、レスポンシブで、アクセスしやすくなっています。同じスペースにより多くのアプリが表示され、コレクション（アプリのグループ）間を移動するために、クリックする代わりにスクロールすることができます。特に複数のコレクションを使用する場合、大型モニターからモバイル デバイスまで、より適切に拡大縮小されます。これらにより、My Apps がマウス、タッチ スクリーン、スクリーン リーダー、キーボードのいずれのナビゲーションで使用されている場合でも、ユーザーがアプリケーションを見つけて起動するのがより簡単かつ迅速になります。</p><p><img src="/blog/azure-active-directory/publicpreview-myapps/publicpreview-myapps2.png"></p><p><img src="/blog/azure-active-directory/publicpreview-myapps/publicpreview-myapps3.png"></p><p>さらに、各コレクションは個別に折りたたむことができ、ナビゲーションが容易になります。また、関連する設定ボタンがあり、コレクションの非表示など、関連するアクションを簡単に見つけることができます。</p><h2 id="パブリック-プレビューを今すぐ体験"><a href="#パブリック-プレビューを今すぐ体験" class="headerlink" title="パブリック プレビューを今すぐ体験"></a>パブリック プレビューを今すぐ体験</h2><p>ユーザーは、ヘッダーの「Try the preview」ボタンを選択することでプレビューに参加でき、「Return to previous view」ボタンを選択することで以前のビューに戻ることができます。なお、今回のプレビューでは、ドラッグ＆ドロップは使用できませんが、一般公開までに追加される予定です。</p><p><img src="/blog/azure-active-directory/publicpreview-myapps/publicpreview-myapps4.png"></p><p>改善された <a href="https://myapps.microsoft.com/">My Apps</a> の体験を今すぐお試しいただき、主要なステーク ホルダーやユーザーと共有してください。</p><h2 id="念のため、My-Appsにサイトを追加する手順"><a href="#念のため、My-Appsにサイトを追加する手順" class="headerlink" title="念のため、My Appsにサイトを追加する手順"></a>念のため、My Appsにサイトを追加する手順</h2><p>My Apps では、ユーザーが Web サイトへのリンクを作成できるようになったため、関連するすべてのアプリとサイトにアクセスできるようになりました。Azure AD とまだ統合されていない Web サイトを頻繁に訪問する場合、簡単なリンクを作成することで追加することができます。サイトを作成するには、「サイトの追加」をクリックし、名前と URL を入力します。</p><p><img src="/blog/azure-active-directory/publicpreview-myapps/publicpreview-myapps5.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;こんにちは、 Azure Identity サポート チームの小出です。&lt;/p&gt;
&lt;p&gt;本記事は、 2021 年 11 月15 日に米国の Azure Active Directory Identity Blog で公開された &lt;a href=&quot;https://techco</summary>
      
    
    
    
    
    <category term="Azure AD" scheme="https://jpazureid.github.io/blog/tags/Azure-AD/"/>
    
    <category term="US Identity Blog" scheme="https://jpazureid.github.io/blog/tags/US-Identity-Blog/"/>
    
  </entry>
  
</feed>
